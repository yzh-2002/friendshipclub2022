{"version":3,"sources":["index.js","template/index.js","template/validator.js","template/exp.js","template/lib/expression.js","template/lib/text.js","template/lib/filter-parser.js","style/index.js","style/validator.js","utils.js","style/compress.js","style/process.js","style/mediaquery.js","template/compress.js","script/index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA;ACFA;AACA;AACA","file":"index.js","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.parseFragmentsWithCache=parseFragmentsWithCache,exports.parseTemplate=parseTemplate,exports.parseStyle=parseStyle,exports.parseScript=parseScript;var _parse=_interopRequireDefault(require(\"parse5\")),_template=_interopRequireDefault(require(\"./template\")),_style=_interopRequireDefault(require(\"./style\")),_script=_interopRequireDefault(require(\"./script\")),_utils=require(\"./utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _formatFragment(e,t){let r,a,s,n;const o={};if(t.__location){const e=t.__location;e.startTag&&e.endTag?(r=e.startTag.endOffset||0,a=e.endTag.startOffset||0):(r=e.startOffset||0,a=e.endOffset||0),s=e.line,n=e.col}else r=a=s=n=0;return t.attrs&&t.attrs.length&&t.attrs.forEach((function(e){o[e.name]=e.value})),{type:t.nodeName,attrs:o,content:e.substring(r,a),location:{start:r,end:a,line:s,column:n}}}function parseFragments(e,t){const r={import:[],template:[],style:[],script:[]};return _parse.default.parseFragment(e,{treeAdapter:_parse.default.treeAdapters.default,locationInfo:!0}).childNodes.forEach(a=>{const s=_formatFragment(e,a);if(r[a.nodeName]&&r[a.nodeName].push(s),\"import\"===a.nodeName&&a.__location&&!a.__location.endTag)throw new Error(`${t} : <import> 组件缺少闭合标签，请检查  @${s.location.line} : ${s.location.column}`)}),r}const fragsCache=new Map;function parseFragmentsWithCache(e,t){return fragsCache.has(t)&&fragsCache.get(t).source===e||fragsCache.set(t,{source:e,frags:parseFragments(e,t)}),fragsCache.get(t).frags}function parseTemplate(e,t){const r=_template.default.parse(e,t),{jsonTemplate:a,log:s,depFiles:n}=r;return{parsed:(0,_utils.serialize)(a,2),log:s,depFiles:n}}function parseStyle(e){const t=_style.default.parse(e),{jsonStyle:r,depList:a,log:s,depFiles:n}=t;return{parsed:JSON.stringify(r,null,2),depList:a,log:s,depFiles:n,jsonStyle:r}}function parseScript(e){return{parsed:_script.default.parse(e)}}\n//# sourceMappingURL=index.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _parse=_interopRequireDefault(require(\"parse5\")),_parser=_interopRequireDefault(require(\"parse5/lib/parser\")),_tokenizer=_interopRequireDefault(require(\"parse5/lib/tokenizer\")),_sharedUtils=require(\"@hap-toolkit/shared-utils\"),_compilationConfig=require(\"@hap-toolkit/shared-utils/compilation-config\"),_validator=_interopRequireDefault(require(\"./validator\")),_compress=require(\"./compress\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function calcSubTextNodesNum(e,t){let a=0;if(_validator.default.isSupportSpan(e)){const l=_validator.default.getTagChildren(e);t.forEach((function(e){(\"#text\"===e.nodeName&&e.value.trim()||l.indexOf(e.nodeName)>-1)&&++a}))}return a}function traverse(e,t,a,l,o){_validator.default.checkTagName(e,t,o),(e.attrs||[]).forEach((function(r){let i=r.name;const n=i.match(/^:+/);n&&(i=i.slice(n.length));const s=r.value;let c={line:1,column:1};switch(e.__location&&(c={line:e.__location.line,column:e.__location.col}),i){case\"id\":_validator.default.checkId(s,t),_validator.default.checkAttr(i,s,t,e.tagName,c);break;case\"class\":_validator.default.checkClass(s,t);break;case\"style\":_validator.default.checkStyle(s,t,c,o);break;case\"if\":e._isroot||_validator.default.checkIf(s,t,!1,c,l);break;case\"is\":_validator.default.checkIs(s,t,c);break;case\"else\":e._isroot||a&&a.__cond__&&_validator.default.checkElse(a.__cond__,t,c,l);break;case\"elif\":e._isroot||a&&a.__cond__&&(e.__cond__=_validator.default.checkElif(s,a.__cond__,t,c,l));break;case\"for\":e._isroot||_validator.default.checkFor(s,t,c);break;case\"tree\":_validator.default.checkBuild(\"tree\",t);break;default:i.match(/^(on|@)/)?_validator.default.checkEvent(i,s,t):_validator.default.checkAttr(i,s,t,e.tagName,c,o)}}));const r=t.result,i=e.childNodes;if(i&&i.length){let a;const l=[],n=calcSubTextNodesNum(r.type,i);i.forEach((function(s,c){if(c>0){const e=i[c-1];e.nodeName.match(/^#/)||(a=e,a.__cond__||a.attrs&&a.attrs.forEach((function(e){\"if\"!==e.name&&\"elif\"!==e.name||(a.__cond__=e.value)})))}const u={};if(s.nodeName.match(/^#/)){if(\"#text\"===s.nodeName&&s.value.trim()){const a=_validator.default.isSupportSpan(e.tagName)&&n>=2,l=o.importNames&&o.importNames.indexOf(e.tagName)>-1;if((a||l)&&(u.type=\"span\",t.result=u,r.children=r.children||[],r.children.push(u),t.log.push({line:e.__location.line,column:e.__location.col,reason:`WARNING: 文本和span标签并行存在,编译时将文本节点:\"${s.value}\" 用span包裹(关于span嵌套的使用，请参考官方文档\"span嵌套\")`}),_validator.default.checkAttr(\"value\",s.value,t)),\"option\"===e.tagName){const e=t.result;return t.result=r,r.attr.hasOwnProperty(\"value\")||_validator.default.checkAttr(\"value\",s.value,t),_validator.default.checkAttr(\"content\",s.value,t),void(t.result=e)}if(_validator.default.isSupportSpan(e.tagName)&&1===n||_validator.default.isTextContentAomtic(e.tagName)){const e=t.result;t.result=r,_validator.default.checkAttr(\"value\",s.value,t),t.result=e}}}else t.result=u,r.children=r.children||[],r.children.push(u),traverse(s,t,a,l,o)})),r.children&&0===r.children.length&&(r.children=void 0)}t.result=r}function initParser(e,t,a){const l=new _parser.default(t),o=l._appendElement,r=l._insertElement;function i(e){if(!e.tagName)return;const t=e.tagName.toLowerCase(),o=e.selfClosing,r=_validator.default.isSupportedSelfClosing(t),i=_validator.default.isEmptyElement(t);if(l.__m.tagName&&!l.__m.selfClosing&&!i){const t=String(e.location.line)+\":\"+String(e.location.col);(!r||t!==l.__m.pos&&e.type===_tokenizer.default.START_TAG_TOKEN)&&(_sharedUtils.colorconsole.warn(`${l.__m.tagName}标签要闭合，请遵循XML规范 ${a}@${l.__m.pos}`),l.__m={})}r&&(e.type!==_tokenizer.default.START_TAG_TOKEN||o||(l.__m.tagName=t,l.__m.selfClosing=!1,l.__m.pos=String(e.location.line)+\":\"+String(e.location.col)),e.type===_tokenizer.default.END_TAG_TOKEN&&t===l.__m.tagName&&(l.__m.selfClosing=!0))}return l._insertElement=function(e){const t=(e.tagName||\"\").toLowerCase(),l=e.selfClosing,i=_validator.default.isSupportedSelfClosing(t);l&&!i&&_sharedUtils.colorconsole.error(`${t}标签，禁止使用自闭合 ${a}@${e.location.line}:${e.location.col}`),i||l&&t?o.apply(this,arguments):r.apply(this,arguments)},l.__m={},l._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(i(t),t.type===_tokenizer.default.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===_tokenizer.default.WHITESPACE_CHARACTER_TOKEN&&\"\\n\"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},l.parseFragment(e)}function parse(e,t){const a=initParser(e,{treeAdapter:_parse.default.treeAdapters.default,locationInfo:!0},t.filePath),l={result:{},log:[],depFiles:[]};if(!a||!a.childNodes)return l.log.push({reason:\"ERROR: <template>解析失败\",line:1,column:1}),{jsonTemplate:l.result,log:l.log,depFiles:l.depFiles};const o=a.childNodes.filter((function(e){return\"#\"!==e.nodeName.charAt(0)}));if(0===o.length)return l.log.push({reason:\"ERROR: 没有合法的根节点\",line:1,column:1}),{jsonTemplate:l.result,log:l.log,depFiles:l.depFiles};if(o.length>1)return l.log.push({reason:\"ERROR: <template>节点里只能有一个根节点\",line:1,column:1}),{jsonTemplate:l.result,log:l.log,depFiles:l.depFiles};const r=o[0];r._isroot=!0;try{traverse(r,l,null,null,t)}catch(e){if(!e.isExpressionError)throw e;l.log.push({reason:`ERROR: 表达式解析失败 ${e.message}\\n\\n> ${e.expression}\\n\\nat ${t.filePath}`})}return _compilationConfig.options.optimizeTemplateAttr&&(0,_compress.compressTemplateAttr)(l.result),{jsonTemplate:l.result,log:l.log,depFiles:l.depFiles}}var _default={parse:parse};exports.default=_default;\n//# sourceMappingURL=index.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _path=_interopRequireDefault(require(\"path\")),_sharedUtils=require(\"@hap-toolkit/shared-utils\"),_exp=_interopRequireDefault(require(\"./exp\")),_style=_interopRequireDefault(require(\"../style\")),_utils=require(\"../utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const extList=[\".mix\",\".ux\",\".vue\"],richtextType=[\"mix\",\"ux\"],REG_TAG_DATA_ATTR=/^data-\\w+/,REG_CLASS_VALUE=/[^{}\\s]+((?=\\s)|$)|[^{}\\s]*\\{\\{[^]*?\\}\\}[^\\s]*/g,RESERVED_TAGS=Object.keys(_utils.FRAG_TYPE).map(e=>_utils.FRAG_TYPE[e]),tagCommon={events:[\"click\",\"focus\",\"blur\",\"longpress\",\"appear\",\"disappear\",\"swipe\",\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\",\"resize\"],attrs:{id:{},style:{},class:{},disabled:{enum:[\"false\",\"true\"]},if:{def:\"true\"},elif:{def:\"true\"},else:{},for:{},tid:{},show:{def:\"true\"},\"aria-label\":{},\"aria-unfocusable\":{enum:[\"false\",\"true\"]},forcedark:{enum:[\"true\",\"false\"]}},children:[\"block\",\"slot\",\"component\"],parents:[\"block\"]},tagNatives={div:{supportCard:!0},a:{supportCard:!0,textContent:!0,children:[\"span\"],attrs:{visited:{enum:[\"false\",\"true\"]},href:{}}},text:{supportCard:!0,textContent:!0,children:[\"a\",\"span\"],attrs:{type:{enum:[\"text\",\"html\"]}}},span:{supportCard:!0,textContent:!0,excludeRoot:!0,children:[\"span\"],parents:[\"text\",\"a\",\"span\"],attrs:{extendCommon:!1,id:{},style:{},class:{},for:{},tid:{},if:{def:\"true\"},elif:{def:\"true\"},else:{}}},label:{supportCard:!0,textContent:!0,atomic:!0,attrs:{target:{}}},image:{events:[\"complete\",\"error\"],empty:!0,supportCard:!0,selfClosing:!0,alias:[\"img\"],atomic:!0,attrs:{src:{},alt:{},enablenightmode:{enum:[\"true\",\"false\"]}}},slider:{selfClosing:!0,atomic:!0,attrs:{enabled:{enum:[\"true\",\"false\"]},min:{def:0},max:{def:100},step:{def:1},value:{def:0}},events:[\"change\"]},web:{atomic:!0,events:[\"pagestart\",\"pagefinish\",\"titlereceive\",\"error\",\"message\",\"progress\"],attrs:{src:{},trustedurl:{},allowthirdpartycookies:{enum:[\"false\",\"true\"]},enablenightmode:{enum:[\"true\",\"false\"]},showloadingdialog:{enum:[\"true\",\"false\"]},supportzoom:{enum:[\"false\",\"true\"]}}},list:{children:[\"list-item\"],attrs:{scrollpage:{enum:[\"false\",\"true\"]}},events:[\"scroll\",\"scrollbottom\",\"scrolltop\",\"scrollend\",\"scrolltouchup\"]},\"list-item\":{excludeRoot:!0,parents:[\"list\"],attrs:{type:{required:!0}}},block:{excludeRoot:!0,supportCard:!0,attrs:{extendCommon:!1,for:{},tid:{},if:{def:\"true\"},elif:{def:\"true\"},else:{}}},component:{excludeRoot:!0,attrs:{extendCommon:!1,is:{required:!0},for:{},tid:{},if:{def:\"true\"},elif:{def:\"true\"},else:{}}},slot:{excludeRoot:!0,attrs:{name:{def:\"default\"},extendCommon:!1,content:{}}},input:{supportCard:!0,selfClosing:!0,atomic:!0,empty:!0,attrs:{type:{enum:[\"text\",\"button\",\"checkbox\",\"radio\",\"email\",\"date\",\"time\",\"number\",\"password\",\"tel\"]},autocomplete:{enum:[\"on\",\"off\"]},enterkeytype:{enum:[\"default\",\"next\",\"go\",\"done\",\"send\",\"search\"]},maxlength:{},checked:{enum:[\"false\",\"true\"]},name:{},value:{},placeholder:{}},events:[\"change\",\"enterkeyclick\",\"selectionchange\"]},button:{supportCard:!0,textContent:!0,atomic:!0},refresh:{attrs:{offset:{def:\"132px\"},refreshing:{enum:[\"false\",\"true\"]},type:{enum:[\"auto\",\"pulldown\"]}},events:[\"refresh\"]},swiper:{attrs:{index:{def:0},autoplay:{enum:[\"false\",\"true\"]},interval:{def:3e3},indicator:{enum:[\"true\",\"false\"]},loop:{enum:[\"true\",\"false\"]},duration:{},vertical:{enum:[\"false\",\"true\"]},previousmargin:{def:\"0px\"},nextmargin:{def:\"0px\"}},events:[\"change\"]},progress:{supportCard:!0,selfClosing:!0,atomic:!0,attrs:{percent:{def:0},type:{enum:[\"horizontal\",\"circular\"]}}},picker:{supportCard:!0,selfClosing:!0,atomic:!0,attrs:{type:{required:!0,enum:[\"text\",\"date\",\"time\",\"multi-text\"]},start:{def:\"1970-1-1\"},end:{def:\"2100-12-31\"},range:{},selected:{},value:{}},events:[\"change\",\"columnchange\",\"cancel\"]},switch:{supportCard:!0,selfClosing:!0,atomic:!0,attrs:{checked:{enum:[\"false\",\"true\"]}},events:[\"change\"]},textarea:{supportCard:!0,atomic:!0,textContent:!0,attrs:{placeholder:{},maxlength:{}},events:[\"change\",\"selectionchange\",\"linechange\"]},video:{atomic:!0,attrs:{src:{},muted:{enum:[\"false\",\"true\"]},autoplay:{enum:[\"false\",\"true\"]},controls:{enum:[\"true\",\"false\"]},poster:{},orientation:{enum:[\"landscape\",\"portrait\"]},titlebar:{enum:[\"true\",\"false\"]},title:{}},events:[\"prepared\",\"start\",\"pause\",\"finish\",\"error\",\"seeking\",\"seeked\",\"timeupdate\",\"fullscreenchange\"]},camera:{atomic:!0,selfClosing:!0,attrs:{deviceposition:{enum:[\"back\",\"front\"]},flash:{enum:[\"auto\",\"on\",\"off\",\"torch\"]}},events:[\"error\"]},map:{children:[\"custommarker\"],attrs:{latitude:{},longitude:{},coordtype:{},scale:{def:0},rotate:{def:0},markers:{},showmylocation:{enum:[\"true\",\"false\"]},polylines:{},polygons:{},circles:{},controls:{},groundoverlays:{},includepoints:{},heatmaplayer:{},showcompass:{enum:[\"true\",\"false\"]},enableoverlooking:{enum:[\"false\",\"true\"]},enablezoom:{enum:[\"true\",\"false\"]},enablescroll:{enum:[\"true\",\"false\"]},enablerotate:{enum:[\"true\",\"false\"]},showscale:{enum:[\"false\",\"true\"]},showzoom:{enum:[\"false\",\"true\"]}},events:[\"loaded\",\"regionchange\",\"tap\",\"markertap\",\"callouttap\",\"controltap\",\"poitap\"]},custommarker:{parents:[\"map\"],attrs:{custommarkerattr:{}}},canvas:{atomic:!0},stack:{supportCard:!0,events:[\"fullscreenchange\"]},richtext:{textContent:!0,atomic:!0,attrs:{type:{required:!0,enum:[\"html\"].concat(richtextType)}},events:[\"start\",\"complete\"]},tabs:{children:[\"tab-bar\",\"tab-content\"],attrs:{index:{def:0}},events:[\"change\"]},\"tab-content\":{parents:[\"tabs\"],attrs:{scrollable:{enum:[\"true\",\"false\"]}}},\"tab-bar\":{parents:[\"tabs\"],attrs:{mode:{enum:[\"fixed\",\"scrollable\"]}}},popup:{supportCard:!0,children:[\"text\"],attrs:{target:{required:!0},placement:{enum:[\"left\",\"top\",\"right\",\"bottom\",\"topLeft\",\"topRight\",\"bottomLeft\",\"bottomRight\"],def:\"bottom\"}},events:[\"visibilitychange\"]},rating:{supportCard:!0,atomic:!0,attrs:{numstars:{def:\"5\"},rating:{def:\"0\"},stepsize:{def:\"0.5\"},indicator:{enum:[\"false\",\"true\"]}},events:[\"change\"]},select:{supportCard:!0,children:[\"option\"],events:[\"change\"],excludeRoot:!0},option:{supportCard:!0,parents:[\"select\"],atomic:!0,textContent:!0,attrs:{selected:{def:!1},value:{}},excludeRoot:!0},marquee:{supportCard:!0,textContent:!0,atomic:!0,attrs:{scrollamount:{def:6},loop:{def:-1},direction:{enum:[\"left\",\"right\"]}},events:[\"bounce\",\"finish\",\"start\"]}},tagReserved=[];let tagComponents=[];const tagNativeKeys=Object.keys(tagNatives),tagAliasMap={},tagAttrMap={},tagEnumAttrMap={},tagDefaultAttrMap={},tagRequireAttrMap={},tagAtomics=[],tagTextCotent=[],tagChildrenMap={},tagParentsMap={},tagEventsMap={},tagNotRoot=[];function checkTagName(e,t,a={}){const s=t.result,n=t.log,l=_path.default.extname(a.filePath);let o=e.tagName;const r=e.childNodes||[],i=e.__location||{};tagComponents=a.importNames||[],tagAliasMap[o]&&(\"img\"!==o&&n.push({line:i.line||1,column:i.col||1,reason:\"NOTE: 组件名 `\"+o+\"` 自动转换为 `\"+tagAliasMap[o]+\"`\"}),o=tagAliasMap[o]),s.type=o,RESERVED_TAGS.indexOf(o)>=0?n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件名 `\"+o+\"` 是系统保留的组件名, 请修改\"}):hasTagDefined(o)||n.push({line:i.line||1,column:i.col||1,reason:`WARN: 未识别的标签名 '${o}'，如果是自定义组件，请确认已经引入`}),a.uxType===_utils.ENTRY_TYPE.CARD&&tagNatives[o]&&!tagNatives[o].supportCard&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 卡片不支持组件名 `\"+o+\"`, 请修改\"}),e._isroot&&tagNotRoot.indexOf(o)>=0&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 不能作为根组件\"}),tagAtomics.indexOf(o)>=0&&(tagTextCotent.indexOf(o)<0?r.length>0&&r.every(e=>\"#text\"===e.nodeName||(n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 是原子类型，不应该有子节点\"}),!1)):(r.length>1||r[0]&&\"#text\"!==r[0].nodeName)&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 只能有一个文字子节点\"})),s.attr=s.attr||{};const u=e.attrs||[],c=[];if(u.forEach((function(e){c.push(e.name.toLowerCase())})),tagDefaultAttrMap[o]&&Object.keys(tagDefaultAttrMap[o]).forEach(t=>{const s=c.indexOf(t);s>=0&&\"\"===u[s].value?(u[s].value=tagDefaultAttrMap[o][t],n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 属性 `\"+t+\"` 值为空, 默认设置为缺省值 `\"+tagDefaultAttrMap[o][t]+\"`\"})):\"slot\"===o&&s<0&&(e.attrs.push({name:t,value:tagDefaultAttrMap[o][t]}),_sharedUtils.colorconsole.warn(`标签${o}的属性 \\`${t}\\` 值为空, 默认设置为缺省值 \\`${tagDefaultAttrMap[o][t]}\\` ${a.filePath}@${i.line||1},${i.col||1}`))}),e._isroot){const e=[\"for\",\"if\",\"elif\",\"else\",\"show\"];c.forEach(t=>{e.indexOf(t)>=0&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 根节点 `\"+o+\"` 不能使用属性 `\"+t+\"`\"})})}if(tagRequireAttrMap[o]&&tagRequireAttrMap[o].forEach(e=>{c.indexOf(e)<0&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 没有定义属性 `\"+e+\"`\"})}),tagEnumAttrMap[o]&&Object.keys(tagEnumAttrMap[o]).forEach(e=>{const t=c.indexOf(e);if(t>=0){const a=u[t].value;if(!_exp.default.isExpr(a)){const s=tagEnumAttrMap[o][e];s.indexOf(a)<0&&(u[t].value=s[0],n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 属性 `\"+e+\"` 的值 `\"+a+\"`非法, 默认设置为缺省值 `\"+s[0]+\"`\"}))}}}),tagAttrMap[o]&&\"component\"!==o&&c.forEach(e=>{if(!e.match(/^(on|@)/)){if(l.indexOf(extList[2])>=-1&&/^(:|v-|key|ref|is|slot|slot-scope)/.test(e))return;const t=checkDataAttr(e),a=Object.prototype.hasOwnProperty.call(tagAttrMap[o],e);t||a||n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 不支持属性 `\"+e+\"`，支持的属性有 [\"+Object.keys(tagAttrMap[o]).join(\", \")+\"]\"})}}),tagEventsMap[o]&&\"component\"!==o){const e=tagEventsMap[o];c.forEach(t=>{if(t.match(/^(on|@)/)){const s=t.replace(/^(on|@)/,\"\"),l=[\"appear\",\"disappear\",\"swipe\"];a.uxType===_utils.ENTRY_TYPE.CARD&&l.indexOf(s.toLowerCase())>-1&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 卡片组件 `\"+o+\"` 不支持事件 `\"+s+\"`\"}),e.indexOf(s.toLowerCase())<0&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 不支持事件 `\"+s+\"`\"})}})}if(r.length>0){const e=new Set;r.forEach(t=>{if(isReservedTag(o)&&isReservedTag(t.nodeName)){const s=tagParentsMap[t.nodeName],l=tagChildrenMap[o];if(\"slot\"===t.nodeName){let s=t.parentNode;for(;s;){if(\"slot\"===s.tagName){_sharedUtils.colorconsole.warn(`slot标签内不应该嵌套slot ${a.filePath}@${i.line||1},${i.col||1}`);break}s=s.parentNode}const n={};t.attrs.map(e=>{n[e.name]=e.value}),n.hasOwnProperty(\"name\")?/\\{\\{\\s*[\\w$]+\\s*\\}\\}/.test(n.name)&&_sharedUtils.colorconsole.warn(`标签${t.nodeName}的name属性暂时不支持动态绑定 ${a.filePath}@${i.line||1},${i.col||1}`):n.name=\"default\",e.has(n.name)?_sharedUtils.colorconsole.warn(`标签${o}内存在name为 \\`${n.name}\\` 重复slot ${a.filePath}@${i.line||1},${i.col||1}`):e.add(n.name)}(s&&s.indexOf(o)<0||l&&l.indexOf(t.nodeName)<0)&&n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 不支持子组件 `\"+t.nodeName+\"`\"})}})}isSupportedSelfClosing(o)||!i.startTag||i.endTag||n.push({line:i.line||1,column:i.col||1,reason:\"ERROR: 组件 `\"+o+\"` 缺少闭合标签，请检查\"}),\"list-item\"===o&&hasIfOrFor(r)&&n.push({line:i.line||1,column:i.col||1,reason:\"WARN: `list-item` 内部需谨慎使用指令 if 或 for，相同 type 属性的 list-item， DOM 结构必须完全相同`\"})}function checkId(e,t){e&&(t.result.id=_exp.default.isExpr(e)?(0,_exp.default)(e):e)}function checkDataAttr(e){return REG_TAG_DATA_ATTR.test(e)}function checkBuild(e,t){e&&(t.result.append=\"tree\"===e?\"tree\":\"single\")}function checkClass(className,output){let hasBinding,classList=[];if(className=className.trim(),className){let start=0,end=0;const segs=[],matched=className.match(REG_CLASS_VALUE);if(matched){let e;matched.forEach(t=>{end=className.indexOf(t,start),e=className.slice(start,end),e.length&&segs.push(e),segs.push(t),start+=e.length+t.length})}if(segs.push(className.slice(start)),classList=segs.reduce((e,t)=>_exp.default.isExpr(t)?(hasBinding=!0,e.push((0,_exp.default)(t,!1)),e):e.concat(t.split(/\\s+/g).filter(e=>e).map(e=>`'${e}'`)),[]),classList=classList.filter(e=>e.trim()),hasBinding){const code=\"(function () {return [\"+classList.join(\", \")+\"]})\";try{output.result.classList=eval(code)}catch(e){throw e.isExpressionError=!0,e.expression=className,e}}else output.result.classList=classList.map(e=>e.slice(1,-1))}}function checkStyle(e,t,a,s){let n={};const l=t.log;if(e){if(_exp.default.singleExpr(e)){const s=_exp.default.removeExprffix(e);return _exp.default.isExpr(s)?l.push({line:a.line||1,column:a.col||1,reason:\"ERROR: style 属性不能嵌套多层{{}}\"}):n=(0,_exp.default)(e),void(t.result.style=n)}if(e.split(\";\").forEach((function(e){let t,o,r,i=e.trim().split(\":\");i.length>2&&(i[1]=i.slice(1).join(\":\"),i=i.slice(0,2)),2===i.length&&(t=i[0].trim(),t=(0,_utils.hyphenedToCamelCase)(t),o=i[1].trim(),o=(0,_exp.default)(o),r=_style.default.validateDelaration(t,o,s),o=r.value,o.forEach(e=>{((0,_utils.isValidValue)(e.v)||\"function\"==typeof e.v)&&(n[e.n]=e.v)}),r.log&&l.push({line:a.line||1,column:a.col||1,reason:r.log.reason}))})),\"object\"==typeof n)for(let e in n)_style.default.shouldAddToDependency(e,n[e])&&t.depFiles.push(n[e]);t.result.style=n}}function checkIs(e,t,a){const s=t.log;e?(e=_exp.default.addExprffix(e),t.result.is=(0,_exp.default)(e)):s.push({line:a.line||1,column:a.col||1,reason:\"WARNING: is 属性为空\"})}function checkIf(e,t,a,s,n){const l=t.log;e?(e=_exp.default.addExprffix(e),a?e=\"{{\"+buildConditionExp(n)+\"}}\":(n.length>0&&(n.length=0),n.push(`${e.substr(2,e.length-4)}`)),t.result.shown=(0,_exp.default)(e)):a||l.push({line:s.line||1,column:s.col||1,reason:\"WARNING: if 属性为空\"})}function checkElse(e,t,a,s){checkIf(e,t,!0,a,s),s.length=0}function checkElif(e,t,a,s,n){const l=a.log;let o=t;return e?(e=_exp.default.addExprffix(e),t=_exp.default.addExprffix(t),o=\"{{(\"+e.substr(2,e.length-4)+\") && \"+buildConditionExp(n)+\"}}\",a.result.shown=(0,_exp.default)(o),n.push(`${e.substr(2,e.length-4)}`)):l.push({line:s.line||1,column:s.col||1,reason:\"WARNING: Elif 属性为空\"}),o}function checkFor(e,t,a){const s=t.log;if(e){let a,s;const n=(e=_exp.default.removeExprffix(e)).match(/(.*) (?:in) (.*)/);if(n){const t=n[1].match(/\\((.*),(.*)\\)/);t?(a=t[1].trim(),s=t[2].trim()):s=n[1].trim(),e=n[2]}let l;e=\"{{\"+e+\"}}\",a||s?(l={exp:(0,_exp.default)(e)},a&&(l.key=a),s&&(l.value=s)):l=(0,_exp.default)(e),t.result.repeat=l}else s.push({line:a.line||1,column:a.col||1,reason:\"WARNING: for 属性为空\"})}function checkEvent(name,value,output){const originValue=value,eventName=name.replace(/^(on|@)/,\"\");if(eventName&&value){value=_exp.default.removeExprffix(value);const paramsMatch=value.match(/(.*)\\((.*)\\)/);if(paramsMatch){const funcName=paramsMatch[1];let params=paramsMatch[2];params?(params=params.split(/\\s*,\\s*/),-1===params.indexOf(\"evt\")&&(params[params.length]=\"evt\")):params=[\"evt\"],value=\"{{\"+funcName+\"(\"+params.join(\",\")+\")}}\";try{value=eval(\"(function (evt) {\"+(0,_exp.default)(value,!1).replace(\"this.evt\",\"evt\")+\"})\")}catch(e){throw e.isExpressionError=!0,e.expression=originValue,e}}output.result.events=output.result.events||{},output.result.events[eventName]=value}}function checkAttr(e,t,a,s,n,l){if(e&&(0,_utils.isValidValue)(t)){if(shouldConvertPath(e,t,s)){(0,_utils.fileExists)(t,l.filePath)||a.log.push({line:n.line,column:n.column,reason:\"WARNING: \"+s+\" 属性 \"+e+\" 的值 \"+t+\" 下不存在对应的文件资源\"}),t=(0,_utils.resolvePath)(t,l.filePath),a.depFiles.push(t)}a.result.attr=a.result.attr||{},a.result.attr[(0,_utils.hyphenedToCamelCase)(e)]=(0,_exp.default)(t),\"value\"===e&&\"text\"===s&&a.log.push({line:n.line,column:n.column,reason:\"WARNING: `value` 应该写在<text>标签中\"})}}function shouldConvertPath(e,t,a){return!(!(\"src\"===e&&t&&[\"img\",\"video\"].indexOf(a)>-1)||/^(data:|http|{{)/.test(t))}function isReservedTag(e){return tagReserved.indexOf(e)>-1}function isTextContentAomtic(e){return tagTextCotent.indexOf(e)>-1&&tagAtomics.indexOf(e)>-1}function isSupportSpan(e){if(e&&\"string\"==typeof e)return tagChildrenMap[e]&&tagChildrenMap[e].indexOf(\"span\")>-1}function getTagChildren(e){if(e&&\"string\"==typeof e)return tagChildrenMap[e]||[]}function isSupportedSelfClosing(e){if(e&&\"string\"==typeof e)return e=tagAliasMap[e]||e,tagNatives[e]&&!!tagNatives[e].selfClosing}function hasTagDefined(e){return tagNativeKeys.indexOf(e)>-1||tagComponents.indexOf(e)>-1}function isEmptyElement(e){return e=tagAliasMap[e]||e,tagNatives[e]&&!0===tagNatives[e].empty}function buildConditionExp(e){return e.map(e=>`!(${e})`).join(\" && \")}function hasIfOrFor(e){let t=!1;return e.find(e=>{return(e.attrs||[]).findIndex(e=>[\"for\",\"if\"].indexOf(e.name)>-1)>-1?(t=!0,t):Array.isArray(e.childNodes)?(t=hasIfOrFor(e.childNodes),t):void 0}),t}tagNativeKeys.forEach((function(e){tagReserved.push(e);const t=tagNatives[e];t.atomic&&tagAtomics.push(e),t.textContent&&tagTextCotent.push(e),t.alias&&t.alias.length&&t.alias.forEach((function(t){tagAliasMap[t]=e})),!0===t.excludeRoot&&tagNotRoot.push(e);let a=(0,_utils.extend)({},t.attrs);const s={},n={},l=[];t.attrs&&!1===t.attrs.extendCommon||(a=(0,_utils.extend)(a,tagCommon.attrs)),\"extendCommon\"in a&&delete a.extendCommon,Object.keys(a).forEach((function(e){const t=a[e];t.enum&&t.enum.length>0&&(s[e]=t.enum,n[e]=t.enum[0]),t.def&&(n[e]=t.def),!0===t.required&&l.push(e)})),tagAttrMap[e]=a,tagEnumAttrMap[e]=s,tagDefaultAttrMap[e]=n,tagRequireAttrMap[e]=l,tagChildrenMap[e]=t.children?(0,_utils.merge)([],tagCommon.children,t.children):null,tagParentsMap[e]=t.parents?(0,_utils.merge)([],tagCommon.parents,t.parents):null,tagEventsMap[e]=(0,_utils.merge)([],tagCommon.events,t.events)}));var _default={checkTagName:checkTagName,checkId:checkId,checkClass:checkClass,checkStyle:checkStyle,checkIs:checkIs,checkIf:checkIf,checkElse:checkElse,checkElif:checkElif,checkFor:checkFor,checkEvent:checkEvent,checkAttr:checkAttr,checkBuild:checkBuild,isReservedTag:isReservedTag,isTextContentAomtic:isTextContentAomtic,isSupportSpan:isSupportSpan,getTagChildren:getTagChildren,isSupportedSelfClosing:isSupportedSelfClosing,isEmptyElement:isEmptyElement};exports.default=_default;\n//# sourceMappingURL=validator.js.map\n","var _expression=_interopRequireDefault(require(\"./lib/expression\")),_text=_interopRequireDefault(require(\"./lib/text\")),_filterParser=_interopRequireDefault(require(\"./lib/filter-parser\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function trimhtml(e){if((e=e.replace(/^\\s\\s+/,\" \")).length<=1)return e;const t=\" \"===e.charAt(0)?1:0;return e.length-(e=e.trim()).length-t>=1&&(e+=\" \"),(t?\" \":\"\")+e}function transExpr(expContent,toFunc){let ret;const trimExpContent=expContent.trim();if(_text.default.isExpr(trimExpContent)){ret=[];const tokens=_text.default.parseText(trimExpContent),isSingle=1===tokens.length;if(tokens.forEach((function(e){if(e.tag){let t=_expression.default.parseExpression((0,_filterParser.default)(e.value));isSingle||(t=\"(\"+t+\")\"),ret.push(t)}else ret.push(\"'\"+e.value+\"'\")})),isSingle||ret.unshift(\"''\"),ret=ret.join(\" + \"),!1!==toFunc)try{ret=eval(\"(function () {return \"+ret+\"})\")}catch(e){throw e.isExpressionError=!0,e.expression=trimExpContent,e}}else ret=trimhtml(expContent);return ret}transExpr.isExpr=_text.default.isExpr,transExpr.singleExpr=_text.default.singleExpr,transExpr.removeExprffix=_text.default.removeExprffix,transExpr.addExprffix=_text.default.addExprffix,module.exports=transExpr;\n//# sourceMappingURL=exp.js.map\n","const allowedKeywords=\"Infinity,undefined,NaN,null,isFinite,isNaN,true,false,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,this,require\",allowedKeywordsRE=new RegExp(\"^(\"+allowedKeywords.replace(/,/g,\"\\\\b|\")+\"\\\\b)\"),improperKeywords=\"break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public\",improperKeywordsRE=new RegExp(\"^(\"+improperKeywords.replace(/,/g,\"\\\\b|\")+\"\\\\b)\"),wsRE=/\\s/g,newlineRE=/\\n/g,saveRE=/[{,]\\s*[\\w$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\]|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void /g,restoreRE=/\"(\\d+)\"/g,pathTestRE=/^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/,identRE=/[^\\w$.](?:[A-Za-z_$][\\w$]*)/g,literalValueRE=/^(?:true|false|null|undefined|Infinity|NaN)$/,saveRegRe=/(\\/.+\\/[gimy]*)/g,restoreRegRe=/\"&&&(\\d+)\"/g,saved=[],savedReg=[];function save(e,t){const r=saved.length;return saved[r]=t?e.replace(newlineRE,\"\\\\n\"):e,'\"'+r+'\"'}function saveReg(e){const t=savedReg.length;return savedReg[t]=e,'\"&&&'+t+'\"'}function rewrite(e){const t=e.charAt(0);let r=e.slice(1);return allowedKeywordsRE.test(r)?e:(r=r.indexOf('\"')>-1?r.replace(restoreRE,restore):r,t+\"this.\"+r)}function restore(e,t){return saved[t]}function restoreReg(e,t){return savedReg[t]}function compileGetter(e){improperKeywordsRE.test(e)&&console.warn(\"### App Toolkit ### 不要在表达式中使用保留关键字: \"+e),saved.length=0;let t=e.replace(saveRE,save).replace(saveRegRe,saveReg).replace(wsRE,\"\");return t=(\" \"+t).replace(identRE,rewrite).replace(restoreRegRe,restoreReg).replace(restoreRE,restore),t.trim()}function parseExpression(e){e=e.trim();return/^\\/.+\\/[gimy]*$/.test(e)?e:isSimplePath(e)&&e.indexOf(\"[\")<0?\"this.\"+e:compileGetter(e)}function isSimplePath(e){return pathTestRE.test(e)&&!literalValueRE.test(e)&&\"Math.\"!==e.slice(0,5)}module.exports={parseExpression:parseExpression};\n//# sourceMappingURL=expression.js.map\n","const tagSource=\"{{{([\\\\s\\\\S]+?)}}}|{{([\\\\s\\\\S]+?)}}\",tagRE=new RegExp(tagSource,\"g\"),expRE=new RegExp(tagSource),htmlRE=new RegExp(\"^{{{[\\\\s\\\\S]*}}}$\"),sexpRE=new RegExp(\"^{{{([\\\\s\\\\S]+?)}}}$|^{{([\\\\s\\\\S]+?)}}$\");function parseText(e){if(e=e.replace(/\\n/g,\"\"),!tagRE.test(e))return null;const t=[];let r,s,x,n,p,i,E=tagRE.lastIndex=0;for(;r=tagRE.exec(e);)s=r.index,s>E&&t.push({value:e.slice(E,s)}),x=htmlRE.test(r[0]),n=x?r[1]:r[2],p=n.charCodeAt(0),i=42===p,n=i?n.slice(1):n,t.push({tag:!0,value:n.trim(),html:x,oneTime:i}),E=s+r[0].length;return E<e.length&&t.push({value:e.slice(E)}),t}function isExpr(e){return expRE.test(e)}function singleExpr(e){return sexpRE.test(e.trim())}function removeExprffix(e){return singleExpr(e)?e.replace(/^\\s*{{/,\"\").replace(/}}\\s*$/,\"\"):e}function addExprffix(e){return singleExpr(e)||(e=\"{{\"+e+\"}}\"),e}module.exports={parseText:parseText,isExpr:isExpr,singleExpr:singleExpr,addExprffix:addExprffix,removeExprffix:removeExprffix};\n//# sourceMappingURL=text.js.map\n","const validDivisionCharRE=/[\\w).+\\-_$\\]]/;function parseFilters(e){let i,r,s,t,a,c,l=!1,o=!1,n=!1,f=!1,h=0,d=0,u=0,b=0;for(s=0;s<e.length;s++)if(r=i,i=e.charCodeAt(s),l)39===i&&92!==r&&(l=!1);else if(o)34===i&&92!==r&&(o=!1);else if(n)96===i&&92!==r&&(n=!1);else if(f)47===i&&92!==r&&(f=!1);else if(124!==i||124===e.charCodeAt(s+1)||124===e.charCodeAt(s-1)||h||d||u){switch(i){case 34:o=!0;break;case 39:l=!0;break;case 96:n=!0;break;case 40:u++;break;case 41:u--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===i){let i=s-1;for(;i>=0&&(c=e.charAt(i),\" \"===c);i--);c&&validDivisionCharRE.test(c)||(f=!0)}}else void 0===t?(b=s+1,t=e.slice(0,s).trim()):k();function k(){(a||(a=[])).push(e.slice(b,s).trim()),b=s+1}if(void 0===t?t=e.slice(0,s).trim():0!==b&&k(),a)for(s=0;s<a.length;s++)t=wrapFilter(t,a[s]);return t}function wrapFilter(e,i){const r=i.indexOf(\"(\");if(r<0)return`this.${i}(${e})`;{const s=i.slice(0,r),t=i.slice(r+1);return`this.${s}(${e}${\")\"!==t?\",\"+t:t}`}}module.exports=parseFilters;\n//# sourceMappingURL=filter-parser.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _path=_interopRequireDefault(require(\"path\")),_css=_interopRequireDefault(require(\"css\")),_compilationConfig=require(\"@hap-toolkit/shared-utils/compilation-config\"),_validator=require(\"./validator\"),_compress=require(\"./compress\"),_process=require(\"./process\"),_utils=require(\"../utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){let t;const s={},o=[];let r=[],a=e.code||\"\";const l=e.filePath,i=_path.default.dirname(l),n=[];a=(0,_process.processImport)(a,i,o,n);const c=_css.default.parse(a,{silent:!0});return c.stylesheet.parsingErrors&&c.stylesheet.parsingErrors.length&&(t=c.stylesheet.parsingErrors,t.forEach((function(e){o.push({line:e.line,column:e.column,reason:e.toString()})}))),c&&\"stylesheet\"===c.type&&c.stylesheet&&c.stylesheet.rules&&c.stylesheet.rules.length&&c.stylesheet.rules.forEach((function(e){const t=e.type,a={};if(\"rule\"===t&&e.declarations&&e.declarations.length&&(0,_process.processSingleClass)(e,s,a,o,l,r),\"media\"===t)s[\"@MEDIA\"]||(s[\"@MEDIA\"]=[]),(0,_process.processMediaQueryCss)(e,s[\"@MEDIA\"],o,l,\"\",r);else if(\"font-face\"===t){if(e.declarations&&e.declarations.length){const t={};e.declarations.forEach((function(e){if(\"declaration\"!==e.type)return;const s=(0,_utils.hyphenedToCamelCase)(e.property),a=e.value;if(\"fontFamily\"===s)t.fontFamily=a.replace(/['\"]+/g,\"\");else if(\"src\"===s){const s=(0,_validator.validate)(\"fontSrc\",a,{filePath:l});s.log&&o.push({line:e.position.start.line,column:e.position.start.column,reason:s.log.reason}),t.src=s.value;const i=s.value||[];r=r.concat(i)}})),s[\"@FONT-FACE\"]||(s[\"@FONT-FACE\"]={}),t.fontName=t.fontFamily,t.fontSrc=t.src,s[\"@FONT-FACE\"][t.fontFamily]=t}}else if(\"keyframes\"===t&&e.keyframes&&e.keyframes.length){const t=e.name,a=[];e.keyframes.forEach((function(s){let i;if(\"keyframe\"===s.type&&s.declarations&&s.declarations.length)if(i={},s.declarations.forEach((function(e){if(\"declaration\"!==e.type)return;const t=e.property,s=e.value,a=(0,_utils.hyphenedToCamelCase)(t),n=(0,_validator.validate)(a,s,{filePath:l});n.value.forEach(e=>{(0,_utils.isValidValue)(e.v)&&(i[e.n]=e.v,(0,_process.shouldAddToDependency)(e.n,e.v)&&r.push(e.v))}),n.log&&o.push({line:e.position.start.line,column:e.position.start.column,reason:n.log.reason})})),(0,_utils.isEmptyObject)(i))o.push({line:e.position.start.line,column:e.position.start.column,reason:\"ERROR: 动画 `\"+t+\"` 的关键帧 `\"+JSON.stringify(s.values)+\"` 没有有效的属性\"});else{let e;s.values.forEach(t=>{e=\"from\"===t?0:\"to\"===t?100:parseFloat(t.replace(\"%\",\"\")),i.time=e,a.push(i)})}})),a.sort((function(e,t){return e.time-t.time})),s[\"@KEYFRAMES\"]||(s[\"@KEYFRAMES\"]={}),s[\"@KEYFRAMES\"][t]=a}})),_compilationConfig.options.optimizeCssAttr&&(0,_compress.compressCssAttr)(s),{jsonStyle:s,depList:n,log:o,depFiles:r}}var _default={parse:parse,validateDelaration:_validator.validate,mightReferlocalResource:_validator.mightReferlocalResource,shouldAddToDependency:_process.shouldAddToDependency};exports.default=_default;\n//# sourceMappingURL=index.js.map\n","var _utils=require(\"../utils\");const colorNames={aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#00FFFF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",beige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000000\",blanchedalmond:\"#FFEBCD\",blue:\"#0000FF\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#00FFFF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",darkgreen:\"#006400\",darkgrey:\"#A9A9A9\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",darkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#FF00FF\",gainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",grey:\"#808080\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgreen:\"#90EE90\",lightgrey:\"#D3D3D3\",lightpink:\"#FFB6C1\",lightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#B0C4DE\",lightyellow:\"#FFFFE0\",lime:\"#00FF00\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#FF00FF\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",mistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",orange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",red:\"#FF0000\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",sandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFFFFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FFFF00\",yellowgreen:\"#9ACD32\"},cssPseudoClasses=[\"disabled\",\"checked\",\"focus\",\"active\",\"visited\",\"autoplay\",\"selected\"],cssPseudoElements=[\"before\",\"after\",\"first-line\",\"first-letter\"],cssLengthUnits=[\"px\",\"%\",\"dp\"],cssAngleUnits=[\"deg\"],cssTimeUnits=[\"ms\",\"s\"],logTypes=[\"NOTE\",\"WARNING\",\"ERROR\"],cssUseLocalResource=[\"mylocation\",\"mylocationIconPath\",\"backgroundImage\",\"starForeground\",\"starSecondary\",\"starBackground\",\"fontSrc\"],REGEXP_LENGTH=/^[-+]?[0-9]*\\.?[0-9]+(.*)$/,REGEXP_COLOR_LONG=/^#[0-9a-fA-F]{6}$/,REGEXP_COLOR_SHORT=/^#[0-9a-fA-F]{3}$/,REGEXP_COLOR_RGB=/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/,REGEXP_COLOR_RGBA=/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)$/,REGEXP_COLOR_HSL=/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+%)\\s*,\\s*(\\d+%)\\s*\\)$/,REGEXP_COLOR_HSLA=/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+%)\\s*,\\s*(\\d+%)\\s*,\\s*(\\d*\\.?\\d+)\\s*\\)$/,REGEXP_ARRAYCOLORSTOP=/(rgba|rgb)\\([0-9,.\\spx%]+\\)\\s?[0-9-+px%]*|[#]?\\w+\\s?[0-9+-\\spx%]*/gi,REGEXP_ARRAYCOLOR=/(?:.+?\\s(?=[#a-zA-Z]))|.+/g,REGEXP_INT=/^[-+]?[0-9]+$/,REGEXP_URL=/^url\\(\\s*(['\"]?)\\s*([^'\"()]+?)\\s*\\1\\s*\\)$/,REGEXP_LOCAL=/^local\\(\\s*(['\"]?)\\s*([^'\"()]+?)\\s*\\1\\s*\\)$/,REGEXP_NAME=/^([a-zA-Z_]+[a-zA-Z0-9]*\\s*,\\s*)*[a-zA-Z_]+[a-zA-Z0-9]*$/,REGEXP_TIME=/^[-+]?[0-9]*\\.?[0-9]+(.*)$/,REGEXP_TRANSFORM_ITEM=/^([0-9a-zA-Z]+)\\((.*)\\)$/,REGEXP_GRADIENT_DIRECTION=/^\\s*(to|bottom|right|left|top)|[-+]?[0-9]*\\.?[0-9]+(.*)/,REGEXP_ANGLE=/^\\s*[-+]?[0-9]*\\.?[0-9]+(.*)/,REGEXP_NUMBER=/^[-+]?[0-9]*\\.?[0-9]+$/,REGEXP_POSITION=/^(center|left|right|top|bottom)$/,REGEXP_FONT_WEIGHT=/^(normal|bold|lighter|bolder)$/,REGEXP_INT_ABS=/^[1-9]\\d*$/,REGEXP_CARET=/^(auto|transparent|currentColor)$/,validator={length:function(e,t){const a=(e=(e||\"\").toString().trim()).match(REGEXP_LENGTH);if(t||(t=cssLengthUnits),a){const l=a[1];return 0!=+e||l?l?t.indexOf(l.toLowerCase())>=0?{value:e}:{value:parseFloat(e)+t[0],reason:function(e){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 不支持单位 `\"+l+\"`, 目前仅支持 `\"+JSON.stringify(t)+\"`\"}}:{value:parseFloat(e)+t[0],reason:function(e){return\"WARNING: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 没有指定单位，默认为 `\"+t[0]+\"`\"}}:{value:+e+t[0]}}return{value:null,reason:function(e,t){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 不正确(仅支持数值)\"}}},color:function(e){if((e=(e||\"\").toString().trim()).match(REGEXP_COLOR_LONG))return{value:e};if(e.match(REGEXP_COLOR_SHORT))return{value:\"#\"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]};if(colorNames[e])return{value:colorNames[e]};let t,a,l,n,r,o,i,s;return REGEXP_COLOR_RGB.exec(e)&&(t=REGEXP_COLOR_RGB.exec(e),a=parseInt(t[1]),l=parseInt(t[2]),n=parseInt(t[3]),a>=0&&a<=255&&l>=0&&l<=255&&n>=0&&n<=255)?{value:\"rgb(\"+[a,l,n].join(\",\")+\")\"}:REGEXP_COLOR_RGBA.exec(e)&&(t=REGEXP_COLOR_RGBA.exec(e),a=parseInt(t[1]),l=parseInt(t[2]),n=parseInt(t[3]),r=parseFloat(t[4]),a>=0&&a<=255&&l>=0&&l<=255&&n>=0&&n<=255&&r>=0&&r<=1)?{value:\"rgba(\"+[a,l,n,r].join(\",\")+\")\"}:(t=REGEXP_COLOR_HSL.exec(e)||REGEXP_COLOR_HSLA.exec(e),t&&(o=parseInt(t[1]),i=parseInt(t[2]),s=parseInt(t[3]),r=parseFloat(t[4]),o>=0&&o<=360&&i>=0&&i<=100&&s>=0&&s<=100)?r>=0&&r<=1?{value:`hsla(${o},${i}%,${s}%,${r})`}:{value:`hsl(${o},${i}%,${s}%)`}:\"transparent\"===e?{value:\"rgba(0,0,0,0)\"}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的颜色值 `\"+t+\"` 无效`\"}})},number:function(e){const t=(e=(e||\"\").toString().trim()).match(REGEXP_NUMBER);return t&&!t[1]?{value:parseFloat(e)}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 无效 ` (仅支持数值)\"}}},arraynumber:function(e,t){const a=(t=(t||\"\").toString().trim()).split(/[,\\s]+/);if(a&&a.length<=e.length){const t=[];let l;const n=[];let r=0;return a.forEach((e,a)=>{if(l=validator.number(e),(0,_utils.isValidValue)(l.value)&&t.push(l.value),l.reason){let t=l.reason(a.toString(),e,l.value);const o=t.match(/^([A-Z]+):/);if(o){const e=logTypes.indexOf(o[1]);r<logTypes.indexOf(o[1])&&(r=e),t=t.replace(o[0],\"\").trim()}n.push(t)}}),{value:r<2?(0,_utils.splitAttr)(e,t):null,reason:n.length>0?function(e,t){return logTypes[r]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+n.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},integer:function(e){return(e=(e||\"\").toString()).match(REGEXP_INT)?{value:parseInt(e,10)}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 无效 ` (仅支持整数)\"}}},iterationcount:function(e){return(e=(e||\"\").toString().trim()).match(REGEXP_INT)?{value:parseInt(e,10)}:/^infinite$/.test(e)?{value:-1}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 无效 ` (仅支持整数)\"}}},url:function(e,t){if((e=(e||\"\").toString().trim()).match(/^none$/i))return{value:\"none\"};const a=REGEXP_URL.exec(e);if(a&&a[2].trim()){let e=a[2];return/^data:/.test(e)||/^http(s)?:/.test(e)||(e=(0,_utils.resolvePath)(e,t.filePath)),{value:e}}return{value:null,reason:function(e,t){return\"WARNING: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 必须是 none 或者 url(...)\"}}},fontSrc:function(e,t){const a=(e=(e||\"\").toString().trim()).split(\",\");if(a&&a.length>0){const e=[],l=[];let n=0;return a.forEach((function(a,r){a=a.trim();let o={};if(/^local/.test(a)){const e=REGEXP_LOCAL.exec(a);let t;e&&e[2].trim()&&(t=e[2]),o={value:t,reason:t?null:function(e,t){return\"WARNING: @font-face中属性src`\"+(0,_utils.camelCaseToHyphened)(e)+\"`的值`\"+t+\"` 存在问题\"}}}else o=validator.url(a,t);if((0,_utils.isValidValue)(o.value)&&e.push(o.value),o.reason){let e=o.reason(r.toString(),a,o.value);const t=e.match(/^([A-Z]+):/);if(t){const a=logTypes.indexOf(t[1]);n<logTypes.indexOf(t[1])&&(n=a),e=e.replace(t[0],\"\").trim()}l.push(e)}})),{value:n<2?e:null,reason:l.length>0?function(e,t){return logTypes[n]+\": @font-face中属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+l.join(\"\\n   \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: @font-face中属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题\"}}},fontFamily:function(e){return(e=(e||\"\").toString().replace(/['\"]+/g,\"\"))?{value:e}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题\"}}},position:function(e,t){e=(e||\"\").toString(),t||(t=cssLengthUnits);const a=e.split(/\\s+|,/);if(a&&a.length>1){const e=[];let l;const n=[];let r=0;return a.length>3&&(r=1,n.push(\"属性数目最多为3个, 忽略多余属性\")),a.forEach((a,o)=>{if(l=validator.length(a,t),(0,_utils.isValidValue)(l.value)&&e.push(l.value),l.reason){let e=l.reason(o.toString(),a,l.value);const t=e.match(/^([A-Z]+):/);if(t){const a=logTypes.indexOf(t[1]);r<logTypes.indexOf(t[1])&&(r=a),e=e.replace(t[0],\"\").trim()}n.push(e)}}),{value:r<2?e.join(\" \"):null,reason:n.length>0?function(e,t){return logTypes[r]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+n.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},name:function(e){return(e=(e||\"\").toString()).match(REGEXP_NAME)?{value:e}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},transform:function(e){const t=(e=(e||\"\").toString().trim()).replace(/\\)\\s+/g,\")|\").split(\"|\");if(t&&t.length){const e={};let a;const l=[];let n=0;return t.forEach((t,r)=>{const o=t.match(REGEXP_TRANSFORM_ITEM);if(o){let t=o[2];const r=o[1],i=transformValidatorMap[r];if(\"function\"==typeof i){if(\"translate\"!==r||/[,\\s]+/.test(t.trim())||(t+=\",0px\"),a=i(t),a.value instanceof Array?a.value.forEach(t=>{(0,_utils.isValidValue)(t.v)&&(e[t.n]=t.v)}):(0,_utils.isValidValue)(a.value)&&(e[r]=a.value),a.reason){let e=a.reason(r,t,a.value);const o=e.match(/^([A-Z]+):/);if(o){const t=logTypes.indexOf(o[1]);n<logTypes.indexOf(o[1])&&(n=t),e=e.replace(o[0],\"\").trim()}l.push(e)}}else l.push(\"属性 `\"+r+\"` 不支持\")}else n=2,l.push(\"属性 `\"+r+\"` 的值格式不正确\")}),{value:(0,_utils.isEmptyObject)(e)?null:JSON.stringify(e),reason:l.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+l.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},background:function(e){let t=(e=(e||\"\").toString().trim()).split();if(e.indexOf(\"-gradient\")>0){const a=/(repeating-linear|linear)[\\s\\S]*?(?=\\s*(repeating|linear)|$)/g;t=e.match(a)}const a={values:[]};if(t&&t.length){const e=[];let l=0;return t.forEach(t=>{let n,r;if(t.indexOf(\"-gradient\")>=0&&(n=t.indexOf(\"repeating\")>=0?\"repeatingLinearGradient\":\"linearGradient\",r=backgroundValidatorMap[n]),\"function\"==typeof r){const o=r(t);if((0,_utils.isValidValue)(o.value)){const e=JSON.parse(o.value);a.values.push(e)}if(o.reason){let a=o.reason(n,t,o.value);const r=a.match(/^([A-Z]+):/);if(r){const e=logTypes.indexOf(r[1]);l<logTypes.indexOf(r[1])&&(l=e),a=a.replace(r[0],\"\").trim()}e.push(a)}}else l=2,e.push(\"背景类型 `\"+t+\"`暂不支持\")}),{value:l<2?JSON.stringify(a):null,reason:e.length>0?function(t,a){return logTypes[l]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(t)+\"` 的值 `\"+a+\"` 存在问题: \\n  \"+e.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},backgroundSize:function(e,t){let a,l;e=(e||\"\").toString().trim(),t||(t=cssLengthUnits);let n=0;const r=e.split(/\\s+/);if(1===r.length){if([\"cover\",\"contain\",\"auto\"].indexOf(r[0])>-1)return{value:r[0]};if(l=validator.length(r[0],t),l.reason){a=l.reason(\"0\",r[0],l.value);const e=a.match(/^([A-Z]+):/);e&&(n=logTypes.indexOf(e[1]),a=a.replace(e[0],\"\").trim())}return{value:(0,_utils.isValidValue)(l.value)?l.value:null,reason:a?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+a}:null}}if(2===r.length){const e=[],o=[];return r.forEach((r,i)=>{if(\"auto\"!==r){if(l=validator.length(r,t),(0,_utils.isValidValue)(l.value)&&e.push(l.value),l.reason){a=l.reason(i.toString(),r,l.value);const e=a.match(/^([A-Z]+):/);if(e){const t=logTypes.indexOf(e[1]);n<t&&(n=t),a=a.replace(e[0],\"\").trim()}o.push(a)}}else e.push(r)}),{value:n<2?e.join(\" \"):null,reason:o.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+o.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},backgroundPosition:function(e,t){let a,l;e=(e||\"\").toString().trim(),t||(t=cssLengthUnits);let n=0,r=[];const o=[],i=e.split(/\\s+/);if(1===i.length){if(REGEXP_POSITION.test(i[0]))return{value:i[0]};if(l=validator.length(i[0],t),l.reason){a=l.reason(\"0\",i[0],l.value);const e=a.match(/^([A-Z]+):/);e&&(n=logTypes.indexOf(e[1]),a=a.replace(e[0],\"\").trim())}return{value:(0,_utils.isValidValue)(l.value)?l.value:null,reason:a?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+a}:null}}if(2===i.length){const e=i[0],s=i[1];if(\"center\"===e){if(REGEXP_POSITION.test(s))r=i;else if(l=validator.length(s,t),(0,_utils.isValidValue)(l.value)&&(r=i),l.reason){a=l.reason(\"1\",s,l.value);const e=a.match(/^([A-Z]+):/);if(e){const t=logTypes.indexOf(e[1]);n<t&&(n=t),a=a.replace(e[0],\"\").trim()}o.push(a)}}else if([\"top\",\"bottom\"].indexOf(e)>-1&&[\"left\",\"right\",\"center\"].indexOf(s)>-1)r=i;else if(l=validator.length(e,t),[\"left\",\"right\"].indexOf(e)>-1||(0,_utils.isValidValue)(l.value))if([\"top\",\"bottom\",\"center\"].indexOf(s)>-1)r=i;else if(l=validator.length(s,t),(0,_utils.isValidValue)(l.value)&&(r=i),l.reason){a=l.reason(\"1\",s,l.value);const e=a.match(/^([A-Z]+):/);if(e){const t=logTypes.indexOf(e[1]);n<t&&(n=t),a=a.replace(e[0],\"\").trim()}o.push(a)}return r.length||(n=2,o.length||o.push(\"属性值格式不正确\")),{value:n<2?r.join(\" \"):null,reason:o.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+o.join(\"\\n  \")}:null}}if(3===i.length){const e=i[0],a=i[1],l=i[2];return REGEXP_POSITION.test(e)&&(REGEXP_POSITION.test(a)&&(0,_utils.isValidValue)(validator.length(l,t).value)||REGEXP_POSITION.test(l)&&(0,_utils.isValidValue)(validator.length(a,t).value))&&(r=i),r.length||(n=2,o.length||o.push(\"属性值格式不正确\")),{value:n<2?r.join(\" \"):null,reason:o.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+o.join(\"\\n  \")}:null}}if(4===i.length){const e=i[0],a=i[1],l=i[2],s=i[3];return REGEXP_POSITION.test(e)&&REGEXP_POSITION.test(l)&&(0,_utils.isValidValue)(validator.length(a,t).value)&&(0,_utils.isValidValue)(validator.length(s,t).value)&&(r=i),r.length||(n=2,o.length||o.push(\"属性值格式不正确\")),{value:n<2?r.join(\" \"):null,reason:o.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+o.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},fontWeight:function(e,t){return e=(e||\"\").toString().trim(),REGEXP_FONT_WEIGHT.test(e)||REGEXP_INT_ABS.test(e)?{value:e}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确，仅支持normal,bold,lighter,bolder或正整数\"}}},linearGradient:function(e){e=(e||\"\").toString().trim();const t={type:\"\",directions:[\"to\",\"bottom\"],values:[]};let a={},l={};const n=[];let r=0;const o=e.match(/^([0-9a-zA-Z-]+)\\(([\\s\\S]*)\\)/);if(o){const i=(0,_utils.hyphenedToCamelCase)(o[1]);t.type=i;const s=o[2].split(/,/);if(REGEXP_GRADIENT_DIRECTION.test(s[0])){let e;if(/(to|bottom|right|left|top)/.test(s[0])?e=backgroundValidatorMap.linearGradientDirection:s[0].match(REGEXP_ANGLE)&&(e=backgroundValidatorMap.linearGradientAngle),\"function\"==typeof e&&(l=e(s[0]),s.splice(0,1),(0,_utils.isValidValue)(l.value)&&(t.directions=l.value.split(/\\s+/)),l.reason)){let e=l.reason(i,s[0],l.value);if(e){const t=e.match(/^([A-Z]+):/);if(t){const a=logTypes.indexOf(t[1]);r<logTypes.indexOf(t[1])&&(r=a),e=e.replace(t[0],\"\").trim()}n.push(e)}}}if(s.length>0){if(a=(0,backgroundValidatorMap.linearGradientColor)(s),(0,_utils.isValidValue)(a.value)&&(t.values=JSON.parse(a.value)),a.reason){let e=a.reason(i,s,a.value);if(e){const t=e.match(/^([A-Z]+):/);if(t){const a=logTypes.indexOf(t[1]);r<logTypes.indexOf(t[1])&&(r=a),e=e.replace(t[0],\"\").trim()}n.push(e)}}}else r=2,n.push(\"参数 `\"+e+\"`缺少过渡颜色\");return{value:r<2?JSON.stringify(t):null,reason:n.length>0?function(e,t){return logTypes[r]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+n.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},time:function(e){const t=(e=(e||\"\").toString()).match(REGEXP_TIME);if(t){const a=t[1];if(a){if(cssTimeUnits.indexOf(a.toLowerCase())>=0)return{value:e};return{value:parseFloat(e)+cssTimeUnits[0],reason:function(e){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 不支持单位 `\"+a+\"`, 目前仅支持 `\"+JSON.stringify(cssTimeUnits)+\"`\"}}}return{value:parseFloat(e)+cssTimeUnits[0],reason:function(e){return\"WARNING: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 没有指定单位，默认为 `\"+cssTimeUnits[0]+\"`\"}}}return{value:null,reason:function(e,t){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值不正确 `\"+t+\"` (仅支持数值)\"}}},angle:function(e){const t=(e=(e||\"\").toString().trim()).match(REGEXP_ANGLE);if(t){const a=t[1];if(a){if(cssAngleUnits.indexOf(a.toLowerCase())>=0)return{value:e};{let t=parseFloat(e);return\"rad\"===a.toLowerCase()?(t=Math.round(180*t/Math.PI),{value:t+cssAngleUnits[0],reason:function(e){return\"WARNING: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 不支持单位 `\"+a+\"`, 自动转换为 `\"+cssAngleUnits[0]+\"`\"}}):{value:t+cssAngleUnits[0],reason:function(e){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 不支持单位 `\"+a+\"`, 目前仅支持 `\"+JSON.stringify(cssAngleUnits)+\"`\"}}}}return{value:parseFloat(e)+cssAngleUnits[0],reason:function(e){return\"WARNING: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 没有指定单位，默认为 `\"+cssAngleUnits[0]+\"`\"}}}return{value:null,reason:function(e,t){return\"ERROR: 属性 `\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值不正确 `\"+t+\"` (仅支持数值)\"}}},enum:function(e,t){const a=e.indexOf(t);return a>0?{value:t}:0===a?{value:t,reason:!1}:{value:null,reason:function(t,a){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(t)+\"` 的值 `\"+a+\"` 无效 ` (有效枚举值为: `\"+e.join(\"`|`\")+\"`)\"}}},gradientdirection:function(e){const t=(e=(e||\"\").toString().trim()).split(/\\s+/);let a=[];const l=[];return t.forEach(e=>{\"to\"===e?l.push(0):\"top\"===e|\"bottom\"===e?l.push(1):\"left\"===e|\"right\"===e?l.push(2):a.push(e)}),0===a.length&&l.length>1&&l.length<4&&0===l[0]&&0!==l[1]?l[2]&&l[1]+l[2]!==3&&(a=t):a=t,{value:a.length>0?null:t.join(\" \"),reason:a.length>0?function(e){return\"ERROR:  属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的属性值 `\"+a.join(\" \")+\"` 格式不正确 `)\"}:null}},multipleLength:function(e,t){return\"auto\"===(e=(e||\"\").toString().trim())?{value:e}:/^[-+]?[0-9]+.*/.test(e)?validator.length(e,t):{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 的值不正确\"}}},arraylength:function(e,t,a){const l=(t=(t||\"\").toString().trim()).split(/[,\\s]+/);if(l&&l.length<=e.length){const n=[];let r;const o=[];let i=0;const s=/^margin.*/.test(e[0]);return l.forEach((e,t)=>{if(r=s?validator.multipleLength(e,a):validator.length(e,a),(0,_utils.isValidValue)(r.value)&&n.push(r.value),r.reason){let a=r.reason(t.toString(),e,r.value);const l=a.match(/^([A-Z]+):/);if(l){const e=logTypes.indexOf(l[1]);i<logTypes.indexOf(l[1])&&(i=e),a=a.replace(l[0],\"\").trim()}o.push(a)}}),{value:i<2?(0,_utils.splitAttr)(e,n):null,reason:o.length>0?function(e){return logTypes[i]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+o.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},arraycolor:function(e,t){const a=(t=(t||\"\").toString()).match(REGEXP_ARRAYCOLOR);if(a&&a.length<=4){const t=[];let l;const n=[];let r=0;return a.forEach((e,a)=>{if(l=validator.color(e),(0,_utils.isValidValue)(l.value)&&t.push(l.value),l.reason){let t=l.reason(a.toString(),e,l.value);const o=t.match(/^([A-Z]+):/);if(o){const e=logTypes.indexOf(o[1]);r<logTypes.indexOf(o[1])&&(r=e),t=t.replace(o[0],\"\").trim()}n.push(t)}}),{value:r<2?(0,_utils.splitAttr)(e,t):null,reason:n.length>0?function(e,t){return logTypes[r]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+n.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},arraycolorstop:function(e){const t=(e=(e||\"\").toString().trim()).match(REGEXP_ARRAYCOLORSTOP);if(t&&t.length>1){const a=[],l=[];let n=0;return t.forEach((t,r)=>{const o=t.match(/[\\s]+[-+0-9]+(px|%)?$/),i=[];if(o){const e=validator.length(o[0]),a=t.indexOf(o[0]);if(t=t.substring(0,a),(0,_utils.isValidValue)(e.value)&&i.push(e.value),e.reason){let t=e.reason(r.toString(),o[0],e.value);const a=t.match(/^([A-Z]+):/);if(a){const e=logTypes.indexOf(a[1]);n<logTypes.indexOf(a[1])&&(n=e),t=t.replace(a[0],\"\").trim()}l.push(t)}}if(t){const e=validator.color(t);if((0,_utils.isValidValue)(e.value)&&i.unshift(e.value),a.push(i.join(\" \")),e.reason){let a=e.reason(r.toString(),t,e.value);const o=a.match(/^([A-Z]+):/);if(o){const e=logTypes.indexOf(o[1]);n<logTypes.indexOf(o[1])&&(n=e),a=a.replace(o[0],\"\").trim()}l.push(a)}}else n=2,l.push(\"参数 `\"+e+\"` 格式不正确\")}),{value:n<2?JSON.stringify(a):null,reason:l.length>0?function(e,t){return logTypes[n]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+l.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确，至少指定两种颜色\"}}},mylocation:function(e,t){const a=(e=(e||\"\").toString()).split(/\\s+/);if(a&&a.length<=3){const e=[];let l;const n=[];let r=0;const o=[];let i=-1;return a.forEach((a,i)=>{if((0,_utils.isValidValue)(validator.color(a).value)?(o.push(i),0===i?(l=validatorMap.mylocationFillColor(a),e.push({n:\"mylocationFillColor\",v:l.value})):1===i&&(l=validatorMap.mylocationStrokeColor(a),e.push({n:\"mylocationStrokeColor\",v:l.value}))):(0,_utils.isValidValue)(validator.url(a,t).value)?(o.push(2),l=validatorMap.mylocationIconPath(a,t),e.push({n:\"mylocationIconPath\",v:l.value})):(l={},r=2,n.push(\"属性`\"+i+\"` 的值 `\"+a+\"` 存在问题: \\n  不满足fillColor、strokeColor和iconPath的检验标准\")),l&&l.reason){let e=l.reason(i.toString(),a,l.value);const t=e.match(/^([A-Z]+):/);if(t){const a=logTypes.indexOf(t[1]);r<logTypes.indexOf(t[1])&&(r=a),e=e.replace(t[0],\"\").trim()}n.push(e)}}),o.forEach(e=>{e>i?i=e:(r=2,n.push(\"必须按顺序设置属性fillColor、strokeColor和iconPath\"))}),{value:r<2?e:null,reason:n.length>0?function(e,t){return logTypes[r]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+n.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},border:function(e,t,a){e=(e=(e||\"\").toString()).replace(/\\s*,\\s*/g,\",\"),a=(a||\"\").toString();const l=e.split(/\\s+/);if(l&&l.length<=3){let e,n=[];const r=[];let o=0;const i=[];let s=-1;return l.forEach((l,s)=>{if((0,_utils.isValidValue)(validator.length(l,t).value)){i.push(0);const t=\"border\"+a+\"Width\";e=validatorMap[t](l),e.value instanceof Array?n=n.concat(e.value):a&&(0,_utils.isValidValue)(e.value)&&n.push({n:t,v:e.value})}else if((0,_utils.isValidValue)(validatorMap.borderStyle(l).value))i.push(1),e=validatorMap.borderStyle(l),n.push({n:\"border\"+a+\"Style\",v:l});else if((0,_utils.isValidValue)(validator.color(l).value)){i.push(2);const t=\"border\"+a+\"Color\";e=validatorMap[t](l),e.value instanceof Array?n=n.concat(e.value):a&&(0,_utils.isValidValue)(e.value)&&n.push({n:t,v:e.value})}else e={},o=2,r.push(\"属性`\"+s+\"` 的值 `\"+l+\"` 存在问题: \\n  不满足width、style和color的检验标准\");if(e&&e.reason){let t=e.reason(s.toString(),l,e.value);const a=t.match(/^([A-Z]+):/);if(a){const e=logTypes.indexOf(a[1]);o<logTypes.indexOf(a[1])&&(o=e),t=t.replace(a[0],\"\").trim()}r.push(t)}}),i.forEach(e=>{e>s?s=e:(o=2,r.push(\"必须按顺序设置属性width style color\"))}),{value:o<2?n:null,reason:r.length>0?function(e,t){return logTypes[o]+\": 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 存在问题: \\n  \"+r.join(\"\\n  \")}:null}}return{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确\"}}},borderLeft:function(e,t){return validator.border(e,t,\"Left\")},borderRight:function(e,t){return validator.border(e,t,\"Right\")},borderTop:function(e,t){return validator.border(e,t,\"Top\")},borderBottom:function(e,t){return validator.border(e,t,\"Bottom\")},display:function(e){e=(e||\"\").toString();const t=[\"flex\",\"none\"],a=t.indexOf(e);return a>0?{value:e}:\"block\"===e?{value:\"flex\",reason:function(e,a){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+a+\"` 需修改为flex ` (有效枚举值为: `\"+t.join(\"`|`\")+\"`)\"}}:0===a?{value:e,reason:!1}:{value:null,reason:function(e,a){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+a+\"` 无效 ` (有效枚举值为: `\"+t.join(\"`|`\")+\"`)\"}}},caretColor:function(e,t){return e=(e||\"\").toString().trim(),REGEXP_CARET.test(e)||(0,_utils.isValidValue)(validator.color(e).value)?{value:e}:{value:null,reason:function(e,t){return\"ERROR: 属性`\"+(0,_utils.camelCaseToHyphened)(e)+\"` 的值 `\"+t+\"` 格式不正确，仅支持auto,currentColor,transparent或<color>\"}}}};function _lengthValidator(e,t){return validator.length(t,e)}function makeLengthValidator(e){return _lengthValidator.bind(null,e)}function makeEnumValidator(e){return validator.enum.bind(null,e)}function makeAbbrAttrValidator(e,t){return validator[e].bind(null,t)}const backgroundValidatorMap={linearGradient:validator.linearGradient,repeatingLinearGradient:validator.linearGradient,linearGradientColor:validator.arraycolorstop,linearGradientAngle:validator.angle,linearGradientDirection:validator.gradientdirection},transformValidatorMap={translate:makeAbbrAttrValidator(\"arraylength\",[\"translateX\",\"translateY\"]),translateX:makeLengthValidator([\"px\",\"%\"]),translateY:makeLengthValidator([\"px\",\"%\"]),scale:makeAbbrAttrValidator(\"arraynumber\",[\"scaleX\",\"scaleY\"]),scaleX:validator.number,scaleY:validator.number,rotate:validator.angle,rotateX:validator.angle,rotateY:validator.angle},validatorMap={width:validator.length,height:validator.length,padding:makeAbbrAttrValidator(\"arraylength\",[\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\"]),paddingLeft:validator.length,paddingRight:validator.length,paddingTop:validator.length,paddingBottom:validator.length,margin:makeAbbrAttrValidator(\"arraylength\",[\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\"]),marginLeft:validator.multipleLength,marginRight:validator.multipleLength,marginTop:validator.multipleLength,marginBottom:validator.multipleLength,border:validator.border,borderLeft:validator.borderLeft,borderRight:validator.borderRight,borderTop:validator.borderTop,borderBottom:validator.borderBottom,borderWidth:makeAbbrAttrValidator(\"arraylength\",[\"borderTopWidth\",\"borderRightWidth\",\"borderBottomWidth\",\"borderLeftWidth\"]),borderLeftWidth:validator.length,borderTopWidth:validator.length,borderRightWidth:validator.length,borderBottomWidth:validator.length,borderColor:makeAbbrAttrValidator(\"arraycolor\",[\"borderTopColor\",\"borderRightColor\",\"borderBottomColor\",\"borderLeftColor\"]),borderLeftColor:validator.color,borderTopColor:validator.color,borderRightColor:validator.color,borderBottomColor:validator.color,borderStyle:makeEnumValidator([\"solid\",\"dotted\",\"dashed\"]),borderRadius:validator.length,borderBottomLeftRadius:validator.length,borderBottomRightRadius:validator.length,borderTopLeftRadius:validator.length,borderTopRightRadius:validator.length,indicatorSize:validator.length,indicatorTop:validator.length,indicatorRight:validator.length,indicatorBottom:validator.length,indicatorLeft:validator.length,flex:validator.number,flexGrow:validator.number,flexShrink:validator.number,flexBasis:validator.length,flexDirection:makeEnumValidator([\"row\",\"column\",\"row-reverse\",\"column-reverse\"]),flexWrap:makeEnumValidator([\"nowrap\",\"wrap\",\"wrap-reverse\"]),justifyContent:makeEnumValidator([\"flex-start\",\"flex-end\",\"center\",\"space-between\",\"space-around\"]),alignItems:makeEnumValidator([\"stretch\",\"flex-start\",\"flex-end\",\"center\"]),alignContent:makeEnumValidator([\"stretch\",\"flex-start\",\"flex-end\",\"center\",\"space-between\",\"space-around\"]),alignSelf:makeEnumValidator([\"auto\",\"flex-start\",\"flex-end\",\"center\",\"baseline\",\"stretch\"]),position:makeEnumValidator([\"static\",\"fixed\",\"relative\",\"absolute\"]),top:validator.length,bottom:validator.length,left:validator.length,right:validator.length,zIndex:validator.integer,opacity:validator.number,background:validator.background,backgroundColor:validator.color,backgroundImage:validator.url,backgroundSize:validator.backgroundSize,backgroundRepeat:makeEnumValidator([\"no-repeat\",\"repeat\",\"repeat-x\",\"repeat-y\"]),backgroundPosition:validator.backgroundPosition,display:validator.display,visibility:makeEnumValidator([\"visible\",\"hidden\"]),objectFit:makeEnumValidator([\"fill\",\"contain\",\"cover\",\"none\",\"scale-down\"]),lines:validator.integer,color:validator.color,fontSize:validator.length,fontStyle:makeEnumValidator([\"normal\",\"italic\"]),fontWeight:validator.fontWeight,textDecoration:makeEnumValidator([\"none\",\"underline\",\"line-through\"]),textAlign:makeEnumValidator([\"left\",\"center\",\"right\"]),lineHeight:validator.length,textOverflow:makeEnumValidator([\"clip\",\"ellipsis\"]),textIndent:makeLengthValidator([\"px\",\"cm\",\"%\",\"em\"]),transform:validator.transform,transformOrigin:validator.position,animationName:validator.name,animationDuration:validator.time,animationTimingFunction:makeEnumValidator([\"linear\",\"ease\",\"ease-in\",\"ease-out\",\"ease-in-out\"]),animationDelay:validator.time,animationIterationCount:validator.iterationcount,animationFillMode:makeEnumValidator([\"none\",\"forwards\"]),placeholderColor:validator.color,selectedColor:validator.color,textColor:validator.color,timeColor:validator.color,textHighlightColor:validator.color,strokeWidth:validator.length,progressColor:validator.color,indicatorColor:validator.color,indicatorSelectedColor:validator.color,slideWidth:validator.length,slideMargin:validator.length,resizeMode:makeEnumValidator([\"cover\",\"contain\",\"stretch\",\"center\"]),columns:validator.number,columnSpan:validator.number,maskColor:validator.color,blockColor:validator.color,mylocation:validator.mylocation,mylocationFillColor:validator.color,mylocationStrokeColor:validator.color,mylocationIconPath:validator.url,caretColor:validator.caretColor,thumbColor:validator.color,trackColor:validator.color,layerColor:validator.color,layoutType:makeEnumValidator([\"grid\",\"stagger\"]),starBackground:validator.url,starForeground:validator.url,starSecondary:validator.url,fontSrc:validator.fontSrc,fontFamily:validator.fontFamily};function validate(e,t,a){let l,n;const r=validatorMap[e];return\"function\"==typeof r?(l=\"function\"!=typeof t?mightReferlocalResource(e)?r(t,a):r(t):{value:t},l.reason&&(n={reason:l.reason(e,t,l.value)})):(l={value:t},n={reason:\"ERROR: 样式名`\"+(0,_utils.camelCaseToHyphened)(e)+\"`不支持\"}),{value:l.value instanceof Array?l.value:[{n:e,v:l.value}],log:n}}function mightReferlocalResource(e){return cssUseLocalResource.indexOf(e)>-1}function validatePseudoClass(e){return e=e.replace(/^(:)/,\"\"),cssPseudoClasses.indexOf(e.toLowerCase())>=0}function validatePseudoElement(e){return e=e.replace(/^(:)/,\"\"),cssPseudoElements.indexOf(e.toLowerCase())>=0}module.exports={colorNames:colorNames,validatorMap:validatorMap,validator:validator,validate:validate,validatePseudoClass:validatePseudoClass,validatePseudoElement:validatePseudoElement,enumValidatorFactory:makeEnumValidator,mightReferlocalResource:mightReferlocalResource};\n//# sourceMappingURL=validator.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extend=extend,exports.merge=merge,exports.hyphenedToCamelCase=hyphenedToCamelCase,exports.camelCaseToHyphened=camelCaseToHyphened,exports.getNameByPath=getNameByPath,exports.getFileNameWithHash=getFileNameWithHash,exports.isEmptyObject=isEmptyObject,exports.isPlainObject=isPlainObject,exports.loadBabelModule=loadBabelModule,exports.getFilenameByPath=getFilenameByPath,exports.serialize=serialize,exports.sortFilesBy=sortFilesBy,exports.makeRequireString=makeRequireString,exports.stringifyLoaders=stringifyLoaders,exports.generateMap=generateMap,exports.consumeMap=consumeMap,exports.splitSourceLine=splitSourceLine,exports.print=print,exports.splitAttr=splitAttr,exports.isValidValue=isValidValue,exports.equals=equals,exports.resolvePath=resolvePath,exports.fileExists=fileExists,exports.getWebpackOptions=getWebpackOptions,exports.isUXRender=isUXRender,exports.isUXEntry=isUXEntry,exports.convertPath=convertPath,exports.lsdirdeep=lsdirdeep,Object.defineProperty(exports,\"colorconsole\",{enumerable:!0,get:function(){return _sharedUtils.colorconsole}}),Object.defineProperty(exports,\"logWarn\",{enumerable:!0,get:function(){return _sharedUtils.logWarn}}),Object.defineProperty(exports,\"mkdirsSync\",{enumerable:!0,get:function(){return _sharedUtils.mkdirsSync}}),Object.defineProperty(exports,\"KnownError\",{enumerable:!0,get:function(){return _sharedUtils.KnownError}}),exports.FRAG_TYPE=exports.ENTRY_TYPE=void 0;var _path=_interopRequireDefault(require(\"path\")),_fs=_interopRequireDefault(require(\"fs\")),_loaderUtils=_interopRequireDefault(require(\"loader-utils\")),_hashSum=_interopRequireDefault(require(\"hash-sum\")),_sourceMap=require(\"source-map\"),_config=_interopRequireDefault(require(\"@hap-toolkit/shared-utils/config\")),_sharedUtils=require(\"@hap-toolkit/shared-utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function extend(e,...t){if(\"function\"==typeof Object.assign)Object.assign(e,...t);else{const r=t.shift();for(const t in r)e[t]=r[t];t.length&&extend(e,...t)}return e}function merge(e,...t){return t.length&&t.forEach(t=>{e=e.concat(t)}),e}function hyphenedToCamelCase(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function camelCaseToHyphened(e){return e.replace(/([A-Z])/g,(function(e,t){return\"-\"+t.toLowerCase()}))}function getNameByPath(e){return _path.default.basename(e).replace(/\\..*$/,\"\")}function getFileNameWithHash(e,t){const r=_path.default.relative(\".\",e);return`./${r}?${(0,_hashSum.default)(r+t)}`}function isEmptyObject(e){if(!e)return!0;for(const t in e)return!1;return!0}const toString=Object.prototype.toString,OBJECT_STRING=\"[object Object]\";function isPlainObject(e){return toString.call(e)===OBJECT_STRING}function loadBabelModule(e){const t=_path.default.resolve(__dirname,\"..\",\"node_modules\",e),r=_path.default.resolve(_config.default.projectPath,\"node_modules\",e);return _fs.default.existsSync(t)?t:_fs.default.existsSync(r)?r:e}function getFilenameByPath(e){return _path.default.relative(\".\",e)}function serialize(e,t){const r=typeof e;if(\"undefined\"===r)return e;if(\"function\"===r)return e.toString();const n=[];let o=-1,i=`__FKS_${Math.random().toString(16).slice(2,10)}_FKE__`;const s=JSON.stringify(e,(e,t)=>\"function\"==typeof t?\"\":t);for(;s.indexOf(i)>-1;)i=`_${i}_`;let a=JSON.stringify(e,(function(e,t){return\"function\"==typeof t?(n.push(t),o++,i+o):t}),t);const u=new RegExp(`\"${i}(\\\\d+)\"`,\"g\");return a=a.replace(u,(e,t)=>n[t].toString()),a}function predicate(e){return\"string\"==typeof e?e===this.toString():this.match(e)}function sortFilesBy(e,t){const r=e.length;return e=e.sort((e,n)=>{let o=t.findIndex(predicate,e),i=t.findIndex(predicate,n);return o=-1===o?r:o,i=-1===i?r:i,o-i})}function makeRequireString(e,t,r){return print({loader:t,filepath:r}),\"require(\"+_loaderUtils.default.stringifyRequest(e,t?`!!${t}!${r}`:`${r}`)+\")\\n\"}function stringifyLoaders(e){return e.map(e=>{if(\"string\"==typeof e)return e;{const t=e.name,r=[];if(e.query)for(const t in e.query){const n=e.query[t];null!=n&&(!0===n?r.push(t):n instanceof Array?r.push(`${t}[]=${n.join(\",\")}`):r.push(`${t}=${n}`))}return`${t}${r.length?\"?\"+r.join(\"&\"):\"\"}`}}).join(\"!\")}function generateMap(e,t,r){const n=getFileNameWithHash(e.resourcePath),o=_path.default.resolve(\".\"),i=new _sourceMap.SourceMapGenerator({sourceRoot:o,skipValidation:!0});i.setSourceContent(n,t);for(const{original:e,generated:t}of r)i.addMapping({source:n,original:e,generated:t});return i}function consumeMap(e,t,r){const n=new _sourceMap.SourceMapConsumer(r);let o;const i=[],s=[],a={};return splitSourceLine(t).forEach((e,t)=>{t+=1;const r=n.originalPositionFor({line:t,column:0});r.source&&(o=r.source,i.push({line:r.line,column:r.column}),s.push({line:t,column:0}),a[`line-${t}-column-0`]={line:r.line,column:r.column})}),{source:o,original:i,generated:s,mapping:a,sourcesContent:n.sourcesContent}}const REGEXP_LINE=/\\r?\\n/g;function splitSourceLine(e){return e.split(REGEXP_LINE)}const showLog=!1;function print(e){if(showLog){let t=\"\";if(\"string\"==typeof e)t=\"######### \"+e+\" #########\";else for(const r in e)t+=\"######### \"+r+\" : \"+e[r]+\" #########\\n\";console.log(t)}}function splitAttr(e,t){const r=[];if(t)switch(e.forEach((e,t)=>{r[t]={},r[t].n=e}),t.length){case 1:e.forEach((e,n)=>{r[n].v=t[0]});break;case 2:e.forEach((e,n)=>{r[n].v=n%2?t[1]:t[0]});break;case 3:e.forEach((e,n)=>{r[n].v=n%2?t[1]:t[n]});break;default:e.forEach((e,n)=>{r[n].v=t[n]})}return r}function isValidValue(e){return\"number\"==typeof e||\"string\"==typeof e}function equals(e,t,r,...n){if(r){if(r(e,t,...n))return!0}const o=Object.prototype.toString.call(e);if(o!==Object.prototype.toString.call(t))return!1;if(\"[object Null]\"===o||\"[object Undefined]\"===o)return!0;if(\"[object Object]\"!==o&&\"[object Array]\"!==o)return Object(e).toString()===Object(t).toString();const i={};Object.keys(e).forEach(e=>i[e]=!0),Object.keys(t).forEach(e=>i[e]=!0);const s=Object.keys(i);for(let n=0;n<s.length;n++){const o=s[n];if(!equals(e[o],t[o],r,o))return!1}return!0}function resolvePath(e,t){if(t&&!_path.default.isAbsolute(e)){const r=_path.default.join(_path.default.dirname(t),e),n=_path.default.relative(_path.default.resolve(_config.default.projectPath,\"./src\"),r);e=_path.default.join(\"/\",n).replace(/\\\\/g,\"/\")}return e}function fileExists(e,t){let r;if(_path.default.isAbsolute(e)){const t=_config.default.projectPath;r=_path.default.join(t,\"./src\",e)}else r=_path.default.resolve(t,\"../\",e);return _fs.default.existsSync(r)}function getWebpackOptions(e){return e.options||{}}function isUXRender(e){return e===ENTRY_TYPE.PAGE||e===ENTRY_TYPE.CARD}function isUXEntry(e){return e===ENTRY_TYPE.PAGE||e===ENTRY_TYPE.APP||e===ENTRY_TYPE.CARD}function convertPath(e){let t=_path.default.join(_config.default.projectPath,\"src\");return/^[/\\\\]node_modules/.test(e)&&(t=_config.default.projectPath),_path.default.join(t,e)}function lsdirdeep(e,t=_fs.default){return function e(t,r,n){let o=[];const i=_path.default.posix.join(t,r);return n.readdirSync(i).forEach(s=>{const a=_path.default.posix.join(i,s),u=_path.default.posix.join(r,s);n.statSync(a).isFile()?o.push(u):o=o.concat(e(t,u,n))}),o}(e,\".\",t)}const ENTRY_TYPE={APP:\"app\",PAGE:\"page\",COMP:\"comp\",CARD:\"card\",JS:\"js\"};exports.ENTRY_TYPE=ENTRY_TYPE;const FRAG_TYPE={IMPORT:\"import\",TEMPLATE:\"template\",STYLE:\"style\",SCRIPT:\"script\"};exports.FRAG_TYPE=FRAG_TYPE;\n//# sourceMappingURL=utils.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.compressDescSelector=compressDescSelector,exports.compressCssAttr=compressCssAttr;const cssDescSelectorList=[{newN:\"t\",oldN:\"type\",newV:[\"d\",\"a\",\"t\",\"u\",\"p\",\"pe\"],oldV:[\"descendant\",\"attribute\",\"tag\",\"universal\",\"pseudo\",\"pseudo-element\"]},{newN:\"n\",oldN:\"name\"},{newN:\"i\",oldN:\"ignoreCase\"},{newN:\"a\",oldN:\"action\"},{newN:\"v\",oldN:\"value\"}],cssAttrMap={width:\"w\",height:\"h\",paddingLeft:\"pL\",paddingRight:\"pR\",paddingTop:\"pT\",paddingBottom:\"pB\",marginLeft:\"mL\",marginRight:\"mR\",marginTop:\"mT\",marginBottom:\"mB\",borderLeftWidth:\"bLW\",borderTopWidth:\"bTW\",borderRightWidth:\"bRW\",borderBottomWidth:\"bBW\",borderLeftColor:\"bLC\",borderTopColor:\"bTC\",borderRightColor:\"bRC\",borderBottomColor:\"bBC\",borderStyle:\"bS\",borderRadius:\"bR\",borderBottomLeftRadius:\"bBLR\",borderBottomRightRadius:\"bBRR\",borderTopLeftRadius:\"bTLR\",borderTopRightRadius:\"bTRR\",indicatorSize:\"iS\",flex:\"f\",flexGrow:\"fG\",flexShrink:\"fS\",flexBasis:\"fB\",flexDirection:\"fD\",flexWrap:\"fW\",justifyContent:\"jC\",alignItems:\"aI\",alignContent:\"aC\",alignSelf:\"aS\",position:\"p\",top:\"t\",bottom:\"b\",left:\"l\",right:\"r\",zIndex:\"zI\",opacity:\"o\",background:\"bg\",backgroundColor:\"bgC\",backgroundImage:\"bgI\",backgroundSize:\"bgS\",backgroundRepeat:\"bgR\",backgroundPosition:\"bgP\",display:\"d\",visibility:\"v\",lines:\"ls\",color:\"c\",fontSize:\"foS\",fontStyle:\"fSt\",fontWeight:\"foW\",textDecoration:\"tD\",textAlign:\"tA\",lineHeight:\"lH\",textOverflow:\"tO\",transform:\"ts\",transformOrigin:\"tsO\",animationName:\"aN\",animationDuration:\"aD\",animationTimingFunction:\"aTF\",animationDelay:\"aDe\",animationIterationCount:\"aIC\",animationFillMode:\"aFM\",placeholderColor:\"pC\",selectedColor:\"sC\",textColor:\"tC\",timeColor:\"tiC\",textHighlightColor:\"tHC\",strokeWidth:\"sW\",progressColor:\"prC\",indicatorColor:\"iC\",indicatorSelectedColor:\"iSC\",slideWidth:\"slW\",slideMargin:\"sM\",resizeMode:\"rM\",columns:\"col\",columnSpan:\"cS\",maskColor:\"mC\",starBackground:\"sB\",starForeground:\"sF\",starSecondary:\"sS\"};function compressDescSelector(o){o=o[0]||[];for(let t=0;t<o.length;t++){const e=o[t]||{};cssDescSelectorList.forEach((function(o){e.hasOwnProperty(o.oldN)&&(e[o.newN]=e[o.oldN],delete e[o.oldN],o.oldV&&o.oldV.indexOf(e[o.newN])>-1&&(e[o.newN]=o.newV[o.oldV.indexOf(e[o.newN])]))}))}return o}function compressCssAttr(o){for(const t in o){const e=o[t];if(\"@KEYFRAMES\"!==t&&\"object\"==typeof e)for(const o in e)if(cssAttrMap[o]){e[cssAttrMap[o]]=e[o],delete e[o]}}}\n//# sourceMappingURL=compress.js.map\n","var _fs=_interopRequireDefault(require(\"fs\")),_path=_interopRequireDefault(require(\"path\")),_css=_interopRequireDefault(require(\"css\")),_cssWhat=_interopRequireDefault(require(\"css-what\")),_compilationConfig=require(\"@hap-toolkit/shared-utils/compilation-config\"),_validator=require(\"./validator\"),_compress=require(\"./compress\"),_mediaquery=require(\"./mediaquery\"),_utils=require(\"../utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const VALID_IMPORT_FLAG=\"__VALID_IMPORT__\",IMPORT_REG=new RegExp(`@import\\\\s+${VALID_IMPORT_FLAG}((?:['\"]([^()]+?)['\"])|(?:(?:url\\\\(([^()]+?)\\\\))))((?:\\\\s*)|(?:\\\\s+[^;]+))${VALID_IMPORT_FLAG};`,\"g\"),IMPORT_URL_REG=new RegExp(`${VALID_IMPORT_FLAG}(?:(?:['\"]([^()]+?)['\"])|(?:(?:url\\\\(([^()]+?)\\\\))))(\\\\s+[^;]+)?${VALID_IMPORT_FLAG};`);function shouldAddToDependency(e,s){return(0,_validator.mightReferlocalResource)(e)&&!/^(data:|http)/.test(s)&&\"string\"==typeof s}function signValidCssImport(e){let s=!0;const t=_css.default.parse(e);if(t&&\"stylesheet\"===t.type&&t.stylesheet&&t.stylesheet.rules&&t.stylesheet.rules.length){t.stylesheet.rules.forEach(e=>{const t=e.type;\"import\"!==t&&\"comment\"!==t&&(s=!1),\"import\"===t&&s&&(e.import=VALID_IMPORT_FLAG+e.import+VALID_IMPORT_FLAG)}),e=_css.default.stringify(t)}return e}function processImport(e,s,t,o){let i=signValidCssImport(e);const n=i.match(IMPORT_REG);return n&&n.length>0&&(s?n.forEach(e=>{const n=e.match(IMPORT_URL_REG);if(n.length>1){const r=n[3],a=_path.default.resolve(s,n[1]||n[2]),l=_fs.default.readFileSync(a);if(l){const s=_path.default.dirname(a);let n=processImport(l.toString(),s,t,o);r&&(n=(0,_mediaquery.wrapMediaCode)(n,r)),i=i.replace(e,\"\\n\"+n+\"\\n\"),o.push(a)}else t.push({line:1,column:1,reason:\"ERROR: 找不到文件 `\"+e+\"` , 导入失败\"})}}):t.push({line:1,column:1,reason:\"ERROR: 找不到资源路径, 无法处理@import\"})),i}function processSingleClass(e,s,t,o,i,n){e.declarations.forEach((function(e){if(\"declaration\"!==e.type)return;const s=e.property,r=e.value,a=(0,_utils.hyphenedToCamelCase)(s),l=(0,_validator.validate)(a,r,{filePath:i});l.value.forEach(e=>{(0,_utils.isValidValue)(e.v)&&(t[e.n]=e.v,shouldAddToDependency(e.n,e.v)&&n.push(e.v))}),l.log&&o.push({line:e.position.start.line,column:e.position.start.column,reason:l.log.reason})}));const r=/^[.#]?[A-Za-z0-9_\\-:]+$/,a=/^([.#]?[A-Za-z0-9_-]+(\\s+|\\s*>\\s*))+([.#]?[A-Za-z0-9_\\-:]+)$/;e.selectors.forEach((function(i){const n={key:i,val:t};if(i.match(r)||i.match(a)){if(!processPseudoClass(n,o,e))return;if(s[n.key]&&i===n.key&&!(0,_utils.equals)(s[n.key],n.val,cssCompare)&&o.push({line:e.position.start.line,column:e.position.start.column,reason:\"WARN: 选择器 `\"+n.key+\"` 已经存在，后者合并前者\"}),!_compilationConfig.options.optimizeDescMeta&&i.match(a))try{n.val=Object.assign({},n.val),n.val._meta={},n.val._meta.ruleDef=(0,_compress.compressDescSelector)((0,_cssWhat.default)(n.key))}catch(s){return void o.push({line:e.position.start.line,column:e.position.start.column,reason:\"ERROR: 选择器 `\"+n.key+\"` 不支持\"})}s[n.key]=(0,_utils.extend)({},s[n.key]||{},n.val)}else o.push({line:e.position.start.line,column:e.position.start.column,reason:\"ERROR: 选择器 `\"+i+\"` 非法\"})}))}function processMediaQueryCss(e,s,t,o,i,n){const r=(0,_mediaquery.validateMediaCondition)(e.media),a=r.value,l=r.reason;if(l&&l.length>0&&r.reason.forEach(s=>{t.push({line:e.position.start.line,column:e.position.start.column,reason:s})}),!a)return;const u=i?`${i} and ${a}`:a;e.rules.forEach(e=>{if(\"rule\"===e.type){if(e.declarations&&e.declarations.length){let i=(0,_mediaquery.findMediaClassByCondition)(s,u);const r=!i;r&&(i={condition:u}),processSingleClass(e,i,{},t,o,n),r&&s.push(i)}}else\"media\"===e.type&&processMediaQueryCss(e,s,t,o,u,n)})}function processPseudoClass(e,s,t){const o=e.key.indexOf(\":\");if(o>-1){const i=e.key.slice(o);if(!(0,_validator.validatePseudoClass)(i))return s.push({line:t.position.start.line,column:t.position.start.column,reason:\"ERROR: 不支持伪类选择器`\"+i+\"`\"}),!1;e.key=e.key.slice(0,o);const n={};Object.keys(e.val).forEach((function(s){n[s+i]=e.val[s]})),e.val=n}return!0}function cssCompare(e,s,t){if(\"_meta\"===t)return!0}module.exports={processImport:processImport,processSingleClass:processSingleClass,processMediaQueryCss:processMediaQueryCss,shouldAddToDependency:shouldAddToDependency};\n//# sourceMappingURL=process.js.map\n","const RE_MEDIA_QUERY=/(?:(only|not)?\\s*([^\\s()]+)(?:\\s*and)?\\s*)?(.+)?/i,RE_MEDIA_FEATURE=/^(\\(\\s*[^()]+\\)\\s+[a-zA-Z]+\\s+)+\\(\\s*[^()]+\\)\\s*$|^\\(\\s*[^()]+\\)$/,RE_MQ_DISCRETE_EXPRESSION=/\\(\\s*([^\\s:)]+)\\s*(?::\\s*([^\\s)]+))?\\s*\\)/,RE_MQ_RANGE_EXPRESSION=/^\\((?:([-+]?\\d*\\.?(?:\\d+[a-zA-Z]*|\\d+\\s*\\/\\s*\\d+))\\s*(<|>|<=|>=)?\\s*)?(aspect-ratio|resolution|width|height|device-width|device-height)(?:\\s*(<|>|<=|>=)?\\s*([-+]?\\d*\\.?(?:\\d+[a-zA-Z]*|\\d+\\s*\\/\\s*\\d+)))?\\)$/,mediaQueryTypes=[\"screen\"],featureValidatorMap={height:\"number\",\"min-height\":\"number\",\"max-height\":\"number\",width:\"number\",\"min-width\":\"number\",\"max-width\":\"number\",resolution:\"resolution\",\"min-resolution\":\"resolution\",\"max-resolution\":\"resolution\",orientation:\"orientation\",\"aspect-ratio\":\"ratio\",\"min-aspect-ratio\":\"ratio\",\"max-aspect-ratio\":\"ratio\",\"device-height\":\"number\",\"min-device-height\":\"number\",\"max-device-height\":\"number\",\"device-width\":\"number\",\"min-device-width\":\"number\",\"max-device-width\":\"number\",\"prefers-color-scheme\":\"preferColorScheme\"},featureValidator={number(e){const r=e.match(/^(\\d+)(px|dp)?$/);if(r){if(r[2]){const t=r[1];return{value:t,reason:function(r){return\"WARN: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 无需单位, 已自动转为 `\"+t+\"`\"}}}return{value:e}}return{reason:function(r){return\"ERROR: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 不正确, 必须为 `数值`\"}}},resolution(e){if(/^\\d+(dpi|dppx)$/.test(e))return{value:e};if(/^\\d+$/.test(e)){return{value:e+\"dpi\",reason:function(e){return\"WARN: 媒体特征 `\"+e+\"` 的单位为 `dpi | dppx` 自动补齐为 `dpi`\"}}}return{reason:function(r){return\"ERROR: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 不正确, 必须为 `数值 + dpi | dppx`\"}}},orientation:e=>/^(portrait|landscape)$/.test(e)?{value:e}:{reason:function(r){return\"WARN: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 不正确, 必须为 `portrait | landscape`\"}},ratio:e=>/^(\\d+\\s*\\/\\s*\\d+|\\d+\\.\\d+|\\d+)$/.test(e)?{value:e}:{reason:function(r){return\"WARN: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 不正确, 必须为 `数值 | 数值/数值`\"}},preferColorScheme:e=>/^(light|dark|no-preference)$/.test(e)?{value:e}:{reason:function(r){return\"WARN: 媒体特征 `\"+r+\"` 的值 `\"+e+\"` 不正确, 必须为 `light | dark | no-preference`\"}}};function parseQuery(e){const r=[];return{result:e.split(\",\").map((function(e){const t=(e=e.trim()).match(RE_MEDIA_QUERY),n=t[1],i=t[2],a=t[3]||\"\";if(!a.match(RE_MEDIA_FEATURE))return void r.push(\"WARN: 媒体特征格式错误\");const o={};o.modifier=n,o.type=i?i.toLowerCase():\"screen\";let u=a.match(/\\([^)]+\\)/g)||[];return o.expressions=u.map((function(t){const n=new RegExp(`\\\\)\\\\s+([a-zA-Z]+)?\\\\s+${t.replace(/\\(/,\"\\\\(\").replace(/\\)/,\"\\\\)\")}`),i=e.match(n);let a=\"\";if(i&&(a=i[1],\"and\"!==a&&\"or\"!==a))return void r.push(\"WARN: 媒体特征连接符必须为 and 或者 or\");let o=t.match(RE_MQ_DISCRETE_EXPRESSION);return o?{type:\"discrete\",combineSymbol:a,feature:o[1],value:o[2]}:(o=t.match(RE_MQ_RANGE_EXPRESSION),o?{type:\"range\",combineSymbol:a,beforeValue:o[1],beforeSymbol:o[2],feature:o[3],afterSymbol:o[4],afterValue:o[5]}:void r.push('WARN: 无效的媒体特征表达式: \"'+t+'\"'))})),o})),error:r}}function validateDiscreteValue(e,r,t,n){const i=featureValidator[t](e.value),{value:a,reason:o}=i;let u=\"\";return o&&o&&n.push(o(r)),a&&(u+=`${r}: ${a}`),u}function validateRangeValue(e,r,t,n){function i(e){let i=featureValidator[t](e);const{reason:a,value:o}=i;return a&&n.push(a(r)),o}let{beforeValue:a,beforeSymbol:o,afterSymbol:u,afterValue:s}=e,d=r;if(a){if(a=i(a),!a)return\"\";d=`${a} ${o} ${d}`}if(s){if(s=i(s),!s)return\"\";d=`${d} ${u} ${s}`}return d}function validateMediaCondition(e){if(e){const r=[],t=parseQuery(e);if(t.error.length>0)return t.error.forEach(t=>{t+=\", 表达式: `\"+e+\"` 有错误，请检查\",r.push(t)}),{reason:r};const n=[];return t.result.forEach(e=>{const{modifier:t,type:i,expressions:a}=e;if(-1===mediaQueryTypes.indexOf(i))return void r.push(\"WARN: 媒体类型 `\"+i+\"` 不支持\");let o=t?`${t} ${i} and`:`${i} and`;a.forEach(e=>{const{feature:t,combineSymbol:n,type:i}=e,a=featureValidatorMap[t];if(!a)return o=\"\",void r.push(\"WARN: 媒体特征 `\"+t+\"` 不支持\");let u=\"\";\"discrete\"===i?u=validateDiscreteValue(e,t,a,r):\"range\"===i&&(u=validateRangeValue(e,t,a,r)),u?o+=n?` ${n} (${u})`:` (${u})`:o=\"\"}),n.push(o)}),{value:n.join(\" or \"),reason:r}}return{value:\"\"}}function findMediaClassByCondition(e,r){if(r){return e.find(e=>e.condition===r)}return null}function wrapMediaCode(e,r){return`@media ${r} {\\n${e}\\n}`}module.exports={validateMediaCondition:validateMediaCondition,findMediaClassByCondition:findMediaClassByCondition,wrapMediaCode:wrapMediaCode};\n//# sourceMappingURL=mediaquery.js.map\n","Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.compressTemplateAttr=compressTemplateAttr;const templateAttrMap={type:\"t\",attr:\"a\",classList:\"cL\",style:\"s\",events:\"e\",children:\"c\"};function compressTemplateAttr(t){if(t){if(t.children)for(let e=0,r=t.children.length;e<r;e++){compressTemplateAttr(t.children[e])}for(const e in t)if(templateAttrMap[e]){t[templateAttrMap[e]]=t[e],delete t[e]}}}\n//# sourceMappingURL=compress.js.map\n","function parse(e){return e}function replaceModuleImport(e){let r=e.replace(/require\\s*\\(\\s*(['\"])@([\\w$_][\\w$-.]*?)\\1\\)/gm,(e,r,p)=>`$app_require$(${r}@app-module/${p}${r})`);return r=r.replace(/import\\s+([\\w${}]+?)\\s+from\\s+(['\"])@([\\w$_][\\w$-.]*?)\\2/gm,(e,r,p,t)=>`var ${r} = $app_require$(${p}@app-module/${t}${p})`),r}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _default={parse:parse,replaceModuleImport:replaceModuleImport};exports.default=_default;\n//# sourceMappingURL=index.js.map\n"]}